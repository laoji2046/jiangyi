# 第二章 指数、对数处理技巧

### 第 01 讲 对数处理技巧
知识纵横
在处理形如 $f(x) \cdot \ln x+g(x)$ 的函数的零点问题或与 0 的大小比较问题时, 我们通常将 其转化为 $f(x) \cdot\left(\ln x+\frac{g(x)}{f(x)}\right)$ 来研究. 这种处理方法称为处理对数的 “单身狗” 技巧. 恰当的运用这一技巧可以减少求导的次数, 提高解题效率.
典例剖析
【例 1】已知函数 $f(x)=\mathrm{e}^{x}-x^{2} \ln x-\mathrm{e}$.
(1) 求曲线 $y=f(x)$ 在点 $(1, f(1))$ 处的切线方程;
(2) 是否存在正整数 $m$, 使得 $f(x) \geqslant m x-\mathrm{e}$ 在区间 $(0,+\infty)$ 上恒成立? 若存在, 求出 $m$ 的最大值并给出推导过程; 若不存在, 请说明理由.

解析
(1) 依题意, $f^{\prime}(x)=\mathrm{e}^{x}-2 x \ln x-x$,则 $f^{\prime}(1)=\mathrm{e}-1, f(1)=0$.
故所求切线方程为 $y=(\mathrm{e}-1)(x-1)$.
(2) 当 $x \in(0,+\infty)$ 时, $f(x)=\mathrm{e}^{x}-x^{2} \ln x-\mathrm{e} \geqslant m x-\mathrm{e}$ 恒成立,
即 $g(x)=\dfrac{\mathrm{e}^{x}}{x^{2}}-\ln x-\dfrac{m}{x} \geqslant 0$ 恒成主.

  先验证 $g(1)=\mathrm{e}-m \geqslant 0$, 即 $m \leqslant \mathrm{e}$, 又 $m \in \mathbf{N}^{*}$, 则 $m$ 的取值为 1,2 .
F面验证,
当 $m=2$ 时, $g(x)=\dfrac{\mathrm{e}^{x}}{x^{2}}-\ln x-\dfrac{2}{x} \geqslant 0$ 恒成立.
$g^{\prime}(x)=\dfrac{\mathrm{e}^{x}(x-2)}{x^{3}}-\dfrac{1}{x}+\dfrac{2}{x^{2}}=\dfrac{\left(\mathrm{e}^{x}-x\right)(x-2)}{x^{3}}$, 很明显 $\mathrm{e}^{x}>x$ 在 $(0,+\infty)$ 恒成立,
所以当 $x \in(0,2)$ 时, $g^{\prime}(x)<0, g(x)$ 在 $(0,2)$ 上为减函数; $x \in(2,+\infty)$ 时, $g^{\prime}(x)>0$, $g(x)$ 在 $(2,+\infty)$ 上为增函数.
所以 $g(x)_{\min }=g(2)=\dfrac{1}{4}\left[\mathrm{e}^{2}-4 \ln 2-4\right]>\dfrac{1}{4}\left[(2.7)^{2}-4 \ln 2-4\right]>\dfrac{1}{4}(3-4 \ln 2)>0$ 恒 成立.
综上所述, $m$ 的最大值为 2 .

[例 2](2011 - 高号课标全国卷) 已知函数 $f(x)=\dfrac{a \ln x}{x+1}+\dfrac{b}{x}$, 曲线 $y=f(x)$ 在点 $(1, f(1))$ 处 的切线方程为 $x+2 y-3=0$.
(1) 求 $a, b$ 的值;
(2) 如果当 $x>0$, 且 $x \neq 1$ 时, $f(x)>\dfrac{\ln x}{x-1}+\dfrac{k}{x}$, 求 $k$ 的取值范围.

- 解析
(1) $f(x)=\frac{a \ln x}{x+1}+\frac{b}{x}$, 则 $f^{\prime}(x)=\dfrac{a\left(\dfrac{x+1}{x}-\ln x\right)}{(x+1)^{2}}-\dfrac{b}{x^{2}}$,
由于直线 $x+2 y-3=0$ 的斜率为 $-\dfrac{1}{2}$, 且过点 $(1,1)$,
$$
\begin{aligned}
&\text { 故 }\left\{\begin{array}{l}
f(1)=1, \\
f^{\prime}(1)=-\frac{1}{2},
\end{array}\right. \\
&\text { 即 }\left\{\begin{array}{l}
b=1, \\
\frac{a}{2}-b=-\frac{1}{2},
\end{array} \text { 解得 } a=b=1 .\right. \\
&\text { (2) 当 } x>0, \text { 且 } x \neq 1 \text { 时, } f(x)>\frac{\ln x}{x-1}+\frac{k}{x} \text { 等价于 } f(x)-\frac{\ln x}{x-1}-\frac{k}{x}>0 .
\end{aligned}
$$
由 (1) 知 $f(x)=\dfrac{\ln x}{x+1}+\dfrac{1}{x}$,
所以 $f(x)-\dfrac{\ln x}{x-1}-\dfrac{k}{x}=\dfrac{\ln x}{x+1}+\dfrac{1}{x}-\dfrac{\ln x}{x-1}-\dfrac{k}{x}=\dfrac{1}{1-x^{2}}\left[2 \ln x+(k-1)\left(x-\dfrac{1}{x}\right)\right]>0$,
则上述不等式等价于 $\left\{\begin{array}{l}\forall x \in(0,1), 2 \ln x+(k-1)\left(x-\dfrac{1}{x}\right)>0, \\ \forall x \in(1,+\infty), 2 \ln x+(k-1)\left(x-\dfrac{1}{x}\right)<0,\end{array}\right.$
设 $h(x)=2 \ln x+(k-1)\left(x-\frac{1}{x}\right)(x>0)$, 则 $h^{\prime}(x)=\frac{1}{x^{2}}\left[(k-1) x^{2}+2 x+k-1\right]$,
处理方案一:
( i ) 设 $k \leqslant 0$, 当 $x \neq 1$ 时,
$$
h^{\prime}(x)=\frac{1}{x^{2}}\left[(k-1) x^{2}+2 x+k-1\right]=\frac{1}{x^{2}}\left[k\left(x^{2}+1\right)-(x-1)^{2}\right]<0,
$$
所以 $h(x)$ 的减区间为 $(0,1)$ 和 $(1,+\infty)$, 而 $h(1)=0$. 故当 $x \in(0,1)$ 时, $h(x)>0$, 可得 $\dfrac{1}{1-x^{2}} h(x)>0$; 当 $x \in(1,+\infty)$ 时, $h(x)<0$, 可得 $\frac{1}{1-x^{2}} h(x)>0$,
从而当 $x>0$, 且 $x \neq 1$ 时, $f(x)-\dfrac{\ln x}{x-1}-\dfrac{k}{x}>0$,
即 $f(x)>\dfrac{\ln x}{x-1}+\dfrac{k}{x}$.
(ii) 设 $0<k<1$,
令 $h^{\prime}(x)=\dfrac{(k-1)\left(x^{2}+1\right)+2 x}{x^{2}}=0$, 解得 $x=\dfrac{-2 \pm \sqrt{4-4(k-1)^{2}}}{2(k-1)}=\dfrac{-1 \pm \sqrt{1-(k-1)^{2}}}{k-1}$.
由于当 $x \in\left(1, \dfrac{-1+\sqrt{1-(k-1)^{2}}}{k-1}\right)$ 时, $h^{\prime}(x)>0, h(x)$ 为增函数, 而 $h(1)=0$,
故 $h(x)>h(1)=0$, 可得 $\dfrac{1}{1-x^{2}} h(x)<0$, 与题设矛盾.
（iii）设 $k \geqslant 1$, 此时 $h^{\prime}(x)>0, h(x)$ 的增区间为 $(0,1)$ 和 $(1,+\infty)$, 而 $h(1)=0$,
故当 $x \in(1,+\infty)$ 时, $h(x)>h(1)=0$, 得 $\dfrac{1}{1-x^{2}} h(x)<0$, 与题设矛盾.
综上所述, $k$ 的取值范围为 $(-\infty, 0]$.
处理方案二:
$$
h^{\prime}(x)=\frac{(k-1)\left(x^{2}+1\right)+2 x}{x^{2}}=\frac{x^{2}+1}{x^{2}} \cdot\left[\frac{2 x}{x^{2}+1}+(k-1)\right],
$$
又 $x>0$, 且 $x \neq 1$ 时, $\dfrac{2 x}{x^{2}+1} \in(0,1)$,
$$
\text { 令 } \varphi(x)=\frac{2 x}{x^{2}+1}+(k-1) \text {, }
$$
则 $\varphi(x)$ 在 $(0,1)$ 上为增函数, 在 $(1,+\infty)$ 上为减函数, 且 $\varphi(x) \in(k-1, k)$.
(i ) 当 $k \leqslant 0$ 时, $\varphi(x)<0, h^{\prime}(x)<0, h(x)$ 的减区间为 $(0,1)$ 和 $(1,+\infty)$.
而 $h(1)=0$,

故当 $x \in(0,1)$ 时, $h(x)>0$, 可得 $\dfrac{1}{1-x^{2}} h(x)>0$;
当 $x \in(1,+\infty)$ 时, $h(x)<0$, 可得 $\dfrac{1}{1-x^{2}} h(x)>0$.
从而当 $x>0$, 且 $x \neq 1$ 时, $f(x)-\dfrac{\ln x}{x-1}-\dfrac{k}{x}>0$,
即 $f(x)>\dfrac{\ln x}{x-1}+\dfrac{k}{x}$.
( ii ) 当 $k-1 \geqslant 0$, 即 $k \geqslant 1$ 时, $\varphi(x)>0, h^{\prime}(x)>0, h(x)$ 的增区间为 $(0,1)$ 和 $(1,+\infty)$.
而 $h(1)=0$, 故当 $x \in(1,+\infty)$ 时, $h(x)>h(1)=0$, 得 $\frac{1}{1-x^{2}} h(x)<0$, 与题设矛盾.
(iii) 当 $0<k<1$ 时,
令 $\varphi(x)=\dfrac{2 x}{x^{2}+1}+(k-1)=0$,
解得 $x=\dfrac{-2 \pm \sqrt{4-4(k-1)^{2}}}{2(k-1)}=\dfrac{-1 \pm \sqrt{1-(k-1)^{2}}}{k-1}$.
故当 $x \in\left(1, \dfrac{-1+\sqrt{1-(k-1)^{2}}}{k-1}\right)$ 时, $\varphi(x)>0, h^{\prime}(x)>0, h(x)$ 为增函数, 而 $h(1)=0$,
所以 $h(x)>h(1)=0$,
可得 $\dfrac{1}{1-x^{2}} h(x)<0$, 与题设矛盾.
综上所述, $k$ 的取值范围为 $(-\infty, 0]$.

### 第 02 讲 指数处理技巧
知识纵横

1. $\left(f(x) \cdot \mathrm{e}^{x}\right)^{\prime}=\mathrm{e}^{x} \cdot\left(f(x)+f^{\prime}(x)\right),\left(f(x) \cdot \mathrm{e}^{-x}\right)^{\prime}=\mathrm{e}^{-x} \cdot\left(f^{\prime}(x)-f(x)\right)$.

2. 在处理形如 $f(x) \cdot \mathrm{e}^{x}>g(x)$ 的不等式问题时, 我们通常将其转化为 $\frac{f(x)}{g(x)} \cdot \mathrm{e}^{x}>1$ 或 $\frac{g(x)}{f(x)} \mathrm{e}^{-x}<1$ 来研究 (此处以 $g(x)>0$ 为例 ). 这种处理方法称为处理指数的和差化 积技巧. 恰当的运用这一技巧可以减少求导的次数, 提高解题效率.
    典例剖析
    【 例 ~ 3 】 ( 2 0 1 0 ~ - ~  新 课 标 全 国}

  设函数$f(x)=\mathrm{e}^{x}-1-x-a x^{2}$
  (1) 若 $a=0$, 求 $f(x)$ 的单调区间;
  (2) 若 $x \geqslant 0$ 时, $f(x) \geqslant 0$, 求 $a$ 的取值范围.

解析
(1) 当 $a=0$ 时, $f(x)=\mathrm{e}^{x}-1-x, f^{\prime}(x)=\mathrm{e}^{x}-1$,
令 $f^{\prime}(x)=0$, 解得 $x=0$.
所以当 $x \in(-\infty, 0)$ 时, $f^{\prime}(x)<0, f(x)$ 为減函数;
当 $x \in(0,+\infty)$ 时, $f^{\prime}(x)>0, f(x)$ 为增函数.
故 $f(x)$ 的单调減区间为 $(-\infty, 0)$, 单调增区问为 $(0,+\infty)$.
(2) 当 $x \geqslant 0$ 时, $f(x)=\mathrm{e}^{x}-1-x-a x^{2} \geqslant 0$, 转化为 $\frac{a x^{2}+x+1}{\mathrm{e}^{x}} \leqslant 1$.

设 $g(x)=\dfrac{a x^{2}+x+1}{\mathrm{e}^{x}}, g(0)=1$,
则 $g^{\prime}(x)=\dfrac{x}{\mathrm{e}^{x}}[-a x+(2 a-1)]$,
令 $h(x)=-a x+(2 a-1)$.
当 $a=0$ 时, $h(x)<0$, 所以 $g^{\prime}(x)<0, g(x)$ 在 $(0,+\infty)$ 上为减函数, $g(x) \leqslant g(0)=1$,
成立;
当 $a<0$ 时, 由 $h(x)=-a x+(2 a-1)=0$,
解得 $x=2-\frac{1}{a}$.
所以, 当 $x \in\left(0,2-\frac{1}{a}\right)$ 时, $h(x)<0, g^{\prime}(x)<0, g(x)$ 在 $\left(0,2-\frac{1}{a}\right)$ 上递减;
当 $x \in\left(2-\frac{1}{a},+\infty\right)$ 时, $h(x)>0, g^{\prime}(x)>0, g(x)$ 在 $\left(2-\frac{1}{a},+\infty\right)$ 上递增.
又 $x \in\left(2-\frac{1}{a},+\infty\right)$ 时, $g(x)=\dfrac{a x^{2}+x+1}{\mathrm{e}^{x}}<\dfrac{a x^{2}+x+1}{\dfrac{1}{2} x^{3}}=\dfrac{2 a}{x}+\dfrac{2}{x^{2}}+\dfrac{2}{x^{3}}<\dfrac{3}{4}<1$,
所以 $g(x) \leqslant g(0)=1$ 成立;
当 $a>0$ 时, $h(x)=-a x+(2 a-1)$.
当 $2 a-1 \leqslant 0$, 即 $a \leqslant \dfrac{1}{2}$ 时,
在 $x \in(0,+\infty)$ 上, $h(x)<0, g^{\prime}(x)<0, g(x)$ 在 $(0,+\infty)$ 为减函数, $g(x) \leqslant g(0)=1$,
成立;
当 $2 a-1>0$ 时, 由 $h(x)=-a x+(2 a-1)=0$, 解得 $x=2-\dfrac{1}{a}$.
故当 $x \in\left(0,2-\frac{1}{a}\right)$ 时, $h(x)>0, g^{\prime}(x)>0, g(x)$ 在 $\left(0,2-\frac{1}{a}\right)$ 上递增, $g(x)>g(0)=1$,
矛盾.
综合所述, $a$ 的取值范围为 $\left(-\infty, \frac{1}{2}\right]$.

【例 4】已知函数 $f(x)=-\frac{a}{2} x^{2}+(a-1) x+\ln x$.
(1) 求函数 $f(x)$ 的单调区间;
(2) 若 $a>1$, 求证: $(2 a-1) f(x)<3 \mathrm{e}^{a-3}$.

解析
函数 $f(x)$ 的定义域为 $x \in(0,+\infty)$,
(1) $f(x)=-\frac{a}{2} x^{2}+(a-1) x+\ln x$,
则 $f^{\prime}(x)=-a x+(a-1)+\dfrac{1}{x}=\dfrac{-a x^{2}+(a-1) x+1}{x}=\dfrac{(a x+1)(-x+1)}{x}$,
当 $a \geqslant 0$ 时, 令 $f^{\prime}(x)=0$, 解得 $x=1$.
当 $x \in(0,1)$ 时, $f^{\prime}(x)>0, f(x)$ 在 $(0,1)$ 上单调递增;
当 $x \in(1,+\infty)$ 时, $f^{\prime}(x)<0, f(x)$ 在 $(1,+\infty)$ 上单调递减.
当 $a<0$ 时, 令 $f^{\prime}(x)=0$, 解得 $x=1$ 或 $x=-\dfrac{1}{a}$.
当 $a=-1$ 时, $x \in(0,+\infty), f^{\prime}(x) \geqslant 0, f(x)$ 在 $(0,+\infty)$ 上单调递增.
当 $1<-\dfrac{1}{a}$, 即 $-1<a<0$ 时,
$x \in(0,1), f^{\prime}(x)>0, f(x)$ 在 $(0,1)$ 上单调递增;
$x \in\left(1,-\dfrac{1}{a}\right), f^{\prime}(x)<0, f(x)$ 在 $\left(1,-\dfrac{1}{a}\right)$ 上单调递减;
$x \in\left(-\dfrac{1}{a},+\infty\right), f^{\prime}(x)>0, f(x)$ 在 $\left(-\dfrac{1}{a},+\infty\right)$ 上单调递增.
当 $1>-\dfrac{1}{a}$, 即 $a<-1$ 时,
$x \in\left(0,-\dfrac{1}{a}\right), f^{\prime}(x)>0, f(x)$ 在 $\left(0,-\dfrac{1}{a}\right)$ 上单调递增;
$x \in\left(-\dfrac{1}{a}, 1\right), f^{\prime}(x)<0, f(x)$ 在 $\left(-\dfrac{1}{a}, 1\right)$ 上单调递减;
$x \in(1,+\infty), f^{\prime}(x)>0, f(x)$ 在 $(1,+\infty)$ 上单调递增.

综上所述,
当 $a<-1$ 时, $f(x)$ 的单调递减区问为 $\left(-\frac{1}{a}, 1\right)$, 单调递增区问为 $\left(0,-\frac{1}{a}\right),(1,+\infty)$;
当 $a=-1$ 时, $f(x)$ 的单调递增区间为 $(0,+\infty)$;
当 $-1<a<0$ 时, $f(x)$ 的单调递减区间为 $\left(1,-\frac{1}{a}\right)$, 单调递增区间为 $(0,1),\left(-\frac{1}{a},+\infty\right)$;
当 $a \geqslant 0$ 时, $f(x)$ 的单调递增区间为 $(0,1)$, 单调递减区间为 $(1,+\infty)$.
(2) 证明: $a>1$ 时, 由 (1) 可知函数 $f(x)$ 的单调递增区间为 $(0,1)$, 单调递减区间 为 $(1,+\infty)$.
所以 $f(x)_{\max }=f(1)=\frac{1}{2} a-1$,
所以 $(2 a-1) f(x)<3 \mathrm{e}^{a-3}$ 等价于 $(2 a-1) f(x)=\left(\frac{1}{2} a-1\right)(2 a-1)<3 \mathrm{e}^{a-3}$,
转化为 $\dfrac{\left(\frac{1}{2} a-1\right)(2 a-1)}{\mathrm{e}^{a}}<\frac{3}{\mathrm{e}^{3}}$ (指数处理技巧),
即 $\dfrac{(a-2)(2 a-1)}{\mathrm{e}^{a}}<\dfrac{6}{\mathrm{e}^{3}}$.
设 $g(a)=\dfrac{(a-2)(2 a-1)}{\mathrm{e}^{a}}$, 则 $g^{\prime}(a)=\dfrac{(a-1)(-2 a+7)}{\mathrm{e}^{a}}$,
令 $-2 a+7=0$, 解得 $a=\dfrac{7}{2}$,
所以, 当 $a \in\left(1, \frac{7}{2}\right)$ 时, $g^{\prime}(a)>0, g(a)$ 在 $\left(1, \frac{7}{2}\right)$ 上为单调增函数;
当 $a \in\left(\frac{7}{2},+\infty\right)$ 时, $g^{\prime}(a)<0, g(a)$ 在 $\left(\frac{7}{2},+\infty\right)$ 上为单调减, 函数.
所以 $g(a)_{\max }=g\left(\frac{7}{2}\right)=9 \mathrm{e}^{-\frac{7}{2}}<6 \mathrm{e}^{-3}\left(\mathrm{e}>\frac{9}{4}\right)$.
综上所述, 若 $a>1,(2 a-1) f(x)<3 \mathrm{e}^{a-3}$.

【例 5】已知函数 $f(x)=1-\mathrm{e}^{-x}$.
(1) 证明: 当 $x>-1$ 时, $f(x) \geqslant \dfrac{x}{x+1}$;
(2) 设当 $x \geqslant 0$ 时, $f(x) \leqslant \dfrac{x}{a x+1}$, 求 $a$ 的取值范围.
(1) 证明: 法一 (指数处理技巧):
当 $x>-1$ 时, $f(x) \geqslant \frac{x}{x+1}$ 等价于 $\dfrac{\mathrm{e}^{x}}{x+1} \geqslant 1$.
设 $h(x)=\dfrac{\mathrm{e}^{x}}{x+1}$, 则 $h^{\prime}(x)=\dfrac{\mathrm{e}^{x} \cdot x}{(x+1)^{2}}$, 令 $h^{\prime}(x)=0$, 解得 $x=0$.
所以, 当 $x \in(-1,0)$ 时, $h^{\prime}(x)<0, h(x)$ 在 $(-\infty, 0)$ 上为减函数;
当 $x \in(0,+\infty)$ 时, $h^{\prime}(x)>0, h(x)$ 在 $(0,+\infty)$ 上为增函数.
所以 $h(x) \geqslant h(0)=1$, 即 $\dfrac{\mathrm{e}^{x}}{x+1} \geqslant 1$.
所以当 $x>-1$ 时, $f(x) \geqslant \dfrac{x}{x+1}$.
法二(单调性解不等式):
设 $g(x)=\dfrac{x}{x+1}=1-\dfrac{1}{x+1}$, 则 $f(x)=g\left(\mathrm{e}^{x}-1\right)$,
又 $g(x)$ 在 $(-1,+\infty)$ 上为增函数,
设 $h(x)=\mathrm{e}^{x}-x-1$, 则 $h^{\prime}(x)=\mathrm{e}^{x}-1$, 令 $h^{\prime}(x)=0$, 解得 $x=0$.
所以, 当 $x \in(-\infty, 0)$ 时, $h^{\prime}(x)<0, h(x)$ 在 $(-\infty, 0)$ 上为减函数;
当 $x \in(0,+\infty)$ 时, $h^{\prime}(x)>0, h(x)$ 在 $(0,+\infty)$ 上为增函数.
所以 $h(x) \geqslant h(0)=0$, 即 $\mathrm{e}^{x} \geqslant x+1$.
所以 $g(x) \leqslant g\left(\mathrm{e}^{x}-1\right)=f(x)$, 即 $f(x) \geqslant \dfrac{x}{x+1}$.
(2) 法一（指数处理技巧 ):
当 $x \geqslant 0$ 时, $f(x)=1-\mathrm{e}^{-x} \leqslant \dfrac{x}{a x+1}$ 转化为 $\left(1-\dfrac{x}{a x+1}\right) \mathrm{e}^{x}-1 \leqslant 0$.

设 $g(x)=\left(1-\frac{x}{a x+1}\right) \mathrm{e}^{x}-1, g(0)=0$, 则 $g^{\prime}(x)=\frac{\mathrm{e}^{x} \cdot x}{(a x+1)^{2}}\left[\left(a^{2}-a\right) x+2 a-1\right]$.
当 $a=0$ 时, $g^{\prime}(x) \leqslant 0, g(x)$ 在 $[0,+\infty)$ 上单调递减, $g(x) \leqslant g(0)=0$, 符合题意;
当 $a=1$ 时, $g^{\prime}(x) \geqslant 0, g(x)$ 在 $[0,+\infty)$ 上单调递增, $g(x) \geqslant g(0)=0$, 不符合题意;
当 $a<0$ 时，
$g(x)=\left(1-\frac{x}{a x+1}\right) \mathrm{e}^{x}-1=\left(1-\frac{1}{a+\frac{1}{x}}\right) \mathrm{e}^{x}-1>\left(1-\frac{1}{a}\right) \mathrm{e}^{x}-1=0$, 解得 $x=\ln \frac{a}{a-1}$,
所以 $g\left(\ln \frac{a}{a-1}\right)>0$, 不符合题意;
当 $a>1$ 时, $g^{\prime}(x) \geqslant 0, g(x)$ 在 $[0,+\infty)$ 上单调递增, $g(x) \geqslant g(0)=0$, 不符合题意;
当 $0<a<1$ 时, 令 $\left(a^{2}-a\right) x+2 a-1=0$, 解得 $x=\frac{1-2 a}{a^{2}-a}$.
当 $\frac{1-2 a}{a^{2}-a} \leqslant 0$ 符合题意 ;
符合题意; 当 $\frac{1-2 a}{a^{2}-a}>0$, 即 $\frac{1}{2}<a<1$ 时，
故当 $x \in\left(0, \frac{1-2 a}{a^{2}-a}\right)$ 时, $g^{\prime}(x) \geqslant 0, g(x)$ 在 $[0,+\infty)$ 上单调递增, $g(x) \geqslant g(0)=0$, 不符合
题意.
综上所述, $a$ 的取值范围是 $\left[0, \frac{1}{2}\right]$.

法二 (端点效应):
由题意 $x \geqslant 0$, 此时 $f(x) \geqslant 0$,
当 $a<0$ 时, 若 $x>-\frac{1}{a}$, 则 $\frac{x}{a x+1}<0, f(x) \leqslant \frac{x}{a x+1}$ 不成立;
当 $a \geqslant 0$ 时, $f(x) \leqslant \frac{x}{a x+1}$ 转化为 $(a x+1) f(x)-x \leqslant 0$.
设 $g(x)=(a x+1) f(x)-x, g(0)=0$,
则 $g^{\prime}(x)=(a x+1-a) \mathrm{e}^{-x}+a-1, g^{\prime}(0)=0$,
$g^{\prime \prime}(x)=(-a x+2 a-1) \mathrm{e}^{-x}, g^{\prime \prime}(0)=2 a-1,$

当 $2 a-1 \leqslant 0$, 即 $a \leqslant \frac{1}{2}$ 时，
$x \in[0,+\infty), g^{\prime \prime}(x) \leqslant 0, g^{\prime}(x)$ 在 $[0,+\infty)$ 上单调递减, 故 $g^{\prime}(x) \leqslant g^{\prime}(0)=0, g(x)$ 在 $[0,+\infty)$ 上单调递减, $g(x) \leqslant g(0)=0$, 符合题意;
当 $a>\frac{1}{2}$ 时, 令 $-a x+2 a-1=0$, 解得 $x=\frac{2 a-1}{a}$.
所以 $x \in\left(0, \frac{2 a-1}{a}\right), g^{\prime \prime}(x)>0, g^{\prime}(x)$ 在 $[0,+\infty)$ 上单调递增, 故 $g^{\prime}(x)>g^{\prime}(0)=0$, 所以 $g(x)$ 在 $[0,+\infty)$ 上单调递增, $g(x) \geqslant g(0)=0$, 不符合题意.
综上所述, $a$ 的取值范围是 $\left[0, \frac{1}{2}\right]$.

法三(局部放缩):
由题意 $x \geqslant 0$, 此时 $f(x) \geqslant 0$,
当 $a<0$ 时, 若 $x>-\frac{1}{a}$, 则 $\frac{x}{a x+1}<0, f(x) \leqslant \frac{x}{a x+1}$ 不成立, 舍去;
当 $a \geqslant 0$ 时, 令 $h(x)=a x f(x)+f(x)-x$, 则 $f(x) \leqslant \frac{x}{a x+1}$ 等价于 $h(x)_{\max } \leqslant 0=h(0)$.
$h^{\prime}(x)=a f(x)+a x f^{\prime}(x)+f^{\prime}(x)-1=a f(x)-a x f(x)+a x-f(x)$,
(i) 当 $0 \leqslant a \leqslant \frac{1}{2}$ 时, 由 (1) 知 $x \leqslant(x+1) f(x)$,
$h^{\prime}(x) \leqslant a f(x)-a x f(x)+a(x+1) f(x)-f(x)=(2 a-1) f(x) \leqslant 0$,
$h(x)$ 在 $[0,+\infty)$ 上是减函数, $h(x) \leqslant h(0)=0$, 即 $f(x) \leqslant \frac{x}{a x+1}$.
(ii) 当 $a>\frac{1}{2}$ 时, 由 (i ) 知 $x \geqslant f(x)$,
$h^{\prime}(x)=a f(x)-a x f(x)+a x-f(x) \geqslant a f(x)-a x f(x)+a f(x)-f(x)=(2 a-1-a x) f(x)$,
当 $0<x<\frac{2 a-1}{a}$ 时, $h^{\prime}(x)>0$, 所以 $h(x)>h(0)=0$,
即 $f(x)>\frac{x}{a x+1}$, 矛盾.
综上所述, $a$ 的取值范围是 $\left[0, \frac{1}{2}\right]$.

【例 6】已知函数 $f(x)=\frac{\ln (x+1)}{\mathrm{e}^{x}-1}+a x$. 若对任意 $x>-1$ 且 $x \neq 0$, 均有 $f(x)>1$ 恒成立, 求实 数 $a$ 的值.
- 解析
当 $x \in(-1,0)$ 时, $f(x)>1$, 等价于 $\ln (x+1)+(a x-1)\left(\mathrm{e}^{x}-1\right)<0$;
当 $x \in(0,+\infty)$ 时, $f(x)>1$, 等价于 $\ln (x+1)+(a x-1)\left(\mathrm{e}^{x}-1\right)>0$.
对任意 $x>-1$ 且 $x \neq 0$, 均有 $f(x)>1$ 恒成立, 转化为 $\left\{\begin{array}{l}\ln (x+1)+(a x-1)\left(\mathrm{e}^{x}-1\right)<0,-1<x<0, \\ \ln (x+1)+(a x-1)\left(\mathrm{e}^{x}-1\right)>0, x>0 .\end{array}\right.$ 令 $g(x)=\ln (x+1)+(a x-1)\left(\mathrm{e}^{x}-1\right)$, 且 $g(0)=0$.
下面只需要证明:
当 $x \in(-1,0)$ 时, $g(x)<g(0)=0$; 当 $x \in(0,+\infty)$ 时, $g(x)>g(0)=0$.
则 $g^{\prime}(x)=\frac{1}{x+1}+a\left(\mathrm{e}^{x}-1\right)+(a x-1) \mathrm{e}^{x}=\frac{1}{x+1}\left[a \mathrm{e}^{x}(x+1)^{2}-\left(a+\mathrm{e}^{x}\right)(x+1)+1\right]$
$=\frac{1}{x+1}\left[\mathrm{e}^{x}(x+1)-1\right][a(x+1)-1]$, 且 $g^{\prime}(0)=0$,
当 $x \in(0,+\infty)$ 时, $\mathrm{e}^{x}(x+1)-1>0$ (证明略),
故令 $h(x)=a(x+1)-1$,
当 $a \geqslant 1$ 时, $h(x)>0, g^{\prime}(x)>0, g(x)$ 在 $(0,+\infty)$ 上单调递增, 故 $g(x)>g(0)=0$, 成立;
当 $a \leqslant 0$ 时, $h(x)<0, g^{\prime}(x)<0, g(x)$ 在 $(0,+\infty)$ 上单调递减, 故 $g(x)<g(0)=0$, 矛盾;
当 $0<a<1$ 时, 令 $h(x)=a(x+1)-1=0$, 解得 $x=\frac{1}{a}-1$.
所以, 当 $x \in\left(0, \frac{1}{a}-1\right)$ 时, $h(x)<0, g^{\prime}(x)<0, g(x)$ 在 $\left(0, \frac{1}{a}-1\right)$ 上单调递减, 故 $g(x)<$ $g(0)=0$ 矛盾.
下面再证: 当 $a \geqslant 1$ 时, $x \in(-1,0), g(x)<g(0)=0$.
因为当 $x \in(-1,0)$ 时, $\mathrm{e}^{x}(x+1)-1<0$ (证明略),
故令 $h(x)=a(x+1)-1=0$, 解得 $x=\frac{1}{a}-1 \in(-1,0]$.
当 $a=1$ 时, $h(x)=x>0, g^{\prime}(x)>0, g(x)$ 在 $(0,+\infty)$ 上单调䏲增, 故 $g(x)<g(0)=0$
成立;
当 $a>1$ 时, $x \in\left(\frac{1}{a}-1,0\right), h(x)<0, g^{\prime}(x)<0, g(x)$ 在 $\left(0, \frac{1}{a}-1\right)$ 单调递减, 故 $g(x)>$ $g(0)=0$, 矛盾.
综上所述, $a=1$.

### 第03节指、对处理技巧

知识纵横
基本方法
(1) 指、对数处理技巧;
(2) 隐零点代换;
(3) 放缩法;
(4) 凹凸反转.
曲例剖析
[例 7](2013 - 高考全国卷 II ) 已知函数 $f(x)=\mathrm{e}^{x}-\ln (x+m)$.
(1) 设 $x=0$ 是 $f(x)$ 的极值点, 求 $m$ 的值, 并讨论 $f(x)$ 的单调性;
(2) 当 $m \leqslant 2$ 时, 证明 $f(x)>0$.

解析
(1) 因为 $f^{\prime}(x)=\mathrm{e}^{x}-\frac{1}{x+m}, x=0$ 是 $f(x)$ 的极值点,
所以 $f^{\prime}(0)=1-\frac{1}{m}=0$, 解得 $m=1$.
所以 $f(x)=\mathrm{e}^{x}-\ln (x+1)$, 其定义域为 $(-1,+\infty)$.
因为 $f^{\prime}(x)=\mathrm{e}^{x}-\frac{1}{x+1}=\frac{\mathrm{e}^{x}(x+1)-1}{x+1}$ (导函数的符号不易看出),
设 $g(x)=\mathrm{e}^{x}(x+1)-1$, 由 $g(0)=0, g^{\prime}(x)=\mathrm{e}^{x}(x+2)>0$, 所以 $g(x)$ 在 $(-1,+\infty)$ 上单
调递增,
又因为 $g(0)=0$, 所以当 $x>0$ 时, $g(x)>0$, 即 $f^{\prime}(x)>0$,
当 $-1<x<0$ 时, $g(x)<0, f^{\prime}(x)<0$; 所以函数 $f(x)$ 在 $(-1,0)$ 上单调递减, 在 $(0,+\infty)$ 上单
调递增.

(2) 证明: 法一 (隐零点代换 1):
$f^{\prime}(x)=\mathrm{e}^{x}-\frac{1}{x+m} \text {, 令 } f^{\prime}\left(x_{0}\right)=0 \text { 得 } \mathrm{e}^{x_{0}}=\frac{1}{x_{0}+m}>0 \text {, 且 } f^{\prime \prime}(x)=\mathrm{e}^{x}+\frac{1}{(x+m)^{2}}>0 \text {, }$
函数 $f^{\prime}(x)$ 在区间 $(-m,+\infty)$ 上单调递增,
则当 $x \in\left(-m, x_{0}\right)$ 时, $f^{\prime}(x)<0, f(x)$ 在 $\left(-m, x_{0}\right)$ 上单调递减;
当 $x \in\left(x_{0},+\infty\right)$ 时, $f^{\prime}(x)>0, f(x)$ 在 $\left(x_{0},+\infty\right)$ 上单调递增,
则 $f(x)_{\min }=f\left(x_{0}\right)=\mathrm{e}^{x_{0}}-\ln \left(x_{0}+m\right)$,
又 $x_{0}$ 满足方程 $\mathrm{e}^{x_{0}}=\frac{1}{x_{0}+m}$,
则 $f\left(x_{0}\right)=\mathrm{e}^{x_{0}}-\ln \left(x_{0}+m\right)=\frac{1}{x_{0}+m}-\ln \mathrm{e}^{-x_{0}}=x_{0}+\frac{1}{x_{0}+m}=x_{0}+m+\frac{1}{x_{0}+m}-$
$m \geqslant(1) 2 \sqrt{\left(x_{0}+m\right) \cdot \frac{1}{x_{0}+m}}-m=2-m \geqslant(2) 0 .$
(1)中取等号的条件是 $\left\{\begin{array}{l}x_{0}=0 \\ m=1\end{array}\right.$, (2)中取等号的条件是 $\left.m=2\right)$, 由于(1), (2) 的等号不能同时
取得, 故 $f\left(x_{0}\right)>0$, 即 $f(x)_{\min }>0$, 因此 $f(x)>0$.
法二 (指数处理技巧 + 隐零点代换):
$f(x)>0 \Leftrightarrow \mathrm{e}^{x}>\ln (x+m)$, 因为 $m \leqslant 2$,
所以 $\ln (x+m) \leqslant \ln (x+2)$,
要证原不等式成立, 问题等价于证明 $\ln (x+2)<\mathrm{e}^{x}$, 即 $\dfrac{\ln (x+2)}{\mathrm{e}^{x}}<1$.
设 $g(x)=\dfrac{\ln (x+2)}{\mathrm{e}^{x}}, g^{\prime}(x)=\dfrac{\frac{1}{x+2}-\ln (x+2)}{\mathrm{e}^{x}}$.
$h(x)=\dfrac{1}{x+2}-\ln (x+2)$ 在 $(-2,+\infty)$ 上为减函数,
又 $h(-2+\sqrt{\mathrm{e}})=\dfrac{1}{\sqrt{\mathrm{e}}}-\dfrac{1}{2}>0, h(0)=\dfrac{1}{2}-\ln 2<0$,
所以存在唯一的 $x_{0} \in(-1,0)$, 使得 $h\left(x_{0}\right)=\dfrac{1}{x_{0}+2}-\ln \left(x_{0}+2\right)=0$.
则当 $x \in\left(-2, x_{0}\right)$ 时, $g^{\prime}(x)>0, g(x)$ 在 $\left(-2, x_{0}\right)$ 上单调递增;
当 $x \in\left(x_{0},+\infty\right)$ 时, $g^{\prime}\left(x_{0}\right)<0, g(x)$ 在 $\left(x_{0},+\infty\right)$ 上单调递减.

则 $g(x)_{\text {max }}=g\left(x_{0}\right)=\frac{\ln \left(x_{0}+2\right)}{\mathrm{e}^{x_{0}}}(*)$,
$$
\text { 又 } \frac{1}{x_{0}+2}=\ln \left(x_{0}+2\right) \text {, 代入 }(*) \text { 得 } g(x)_{\max }=g\left(x_{0}\right)=\frac{1}{\left(x_{0}+2\right) \mathrm{e}^{x_{0}}}<\frac{1}{\sqrt{\mathrm{e}} \cdot \mathrm{e}^{-2+\sqrt{e}}}=\frac{1}{\mathrm{e}^{-\frac{3}{2}+\sqrt{e}}}<1,
$$
综上所述, 当 $m \leqslant 2$ 时, $f(x)>0$.
法三 $\left(\right.$ 放缩法 $\left.\mathrm{e}^{x} \geqslant x+1, \ln (x+1) \leqslant x\right)$ :
由 $f(x)>0 \Leftrightarrow \mathrm{e}^{x}>\ln (x+m)$, 因为 $m \leqslant 2$,
所以 $\ln (x+m) \leqslant \ln (x+2)$,
要证原不等式成立, 问题等价于证明 $\ln (x+2)<\mathrm{e}^{x}$.
由经典不等式 $\mathrm{e}^{x}>x+1, \ln (x+1) \leqslant x$, 可得
$\ln (x+2) \leqslant(1) x+1 \leqslant(2) \mathrm{e}^{x}$.
(第(1)个等号取得的条件是 $x=-1$, 第(2)个等号取得的条件是 $x=0$ )
因此(1),(\overline{2)的等号不能同时取得, 故 } \operatorname { l n } ( x + 2 ) < \mathrm { e } ^ { x } \text { . }
综上, 当 $m \leqslant 2$ 时, $f(x)>0$.

法四(凹凸反转): 处理方案一:
$f(x)>0 \Leftrightarrow \mathrm{e}^{x}>\ln (x+m)$, 因为 $m \leqslant 2$, 所以 $\ln (x+m) \leqslant \ln (x+2)$,
要证原不等式成立, 问题等价于证明 $\ln (x+2)<\mathrm{e}^{x}$, 转化为 $\dfrac{\ln (x+2)}{x+2}<\dfrac{\mathrm{e}^{x}}{x+2}$.
即证 $\left(\dfrac{\ln (x+2)}{x+2}\right)_{\max }<\left(\dfrac{\mathrm{e}^{x}}{x+2}\right)_{\min }$.
设 $g(x)=\dfrac{\ln (x+2)}{x+2}$, 则 $g^{\prime}(x)=\dfrac{1-\ln (x+2)}{(x+2)^{2}}$.
令 $g^{\prime}(x)=\dfrac{1-\ln (x+2)}{(x+2)^{2}}=0$, 解得 $x=\mathrm{e}-2$.
故 $x \in(-2, \mathrm{e}-2)$ 时, $g^{\prime}(x)>0, g(x)$ 为增函数; $x \in(\mathrm{e}-2,+\infty)$ 时, $g^{\prime}(x)<0, g(x)$ 为减函数.

所以 $g(x)_{\text {max }}=g(\mathrm{e}-2)=\frac{1}{\mathrm{e}}$.
设 $h(x)=\dfrac{\mathrm{e}^{x}}{x+2}, h^{\prime}(x)=\dfrac{\mathrm{e}^{x}(x+1)}{(x+2)^{2}}$.
令 $h^{\prime}(x)=\dfrac{\mathrm{e}^{x}(x+1)}{(x+2)^{2}}=0$, 解得 $x=-1$.
故 $x \in(-2,-1), h^{\prime}(x)<0, h(x)$ 为减函数; $x \in(-1,+\infty), h^{\prime}(x)>0, h(x)$ 为增函数.
所以 $h(x)_{\min }=h(-1)=\frac{1}{\mathrm{e}}$.
所以 $g(x) \leqslant(1) \frac{1}{\mathrm{e}} \leqslant(2) h(x)$,
(第(1)个等号取得的条件是 $x=\mathrm{e}-2$, 第(2)个等号取得的条件是 $x=-1$ )
因此(1),(2)的等号不能同时取得, 故 $\dfrac{\ln (x+2)}{x+2}<\dfrac{\mathrm{e}^{x}}{x+2}$,
即 $\ln (x+2)<\mathrm{e}^{x}$.
综上所述, 当 $m \leqslant 2$ 时, $f(x)>0$.
处理方案二:
$f(x)>0 \Leftrightarrow \mathrm{e}^{x}>\ln (x+m)$, 因为 $m \leqslant 2$, 所以 $\ln (x+m) \leqslant \ln (x+2)$,
要证原不等式成立, 问题等价于证明 $\ln (x+2)<\mathrm{e}^{x}$, 转化为 $\ln (x+2)-(x+1)<\mathrm{e}^{x}-(x+1)$.
设 $g(x)=\ln (x+2)-(x+1), g^{\prime}(x)=\frac{1}{x+2}-1$ 在 $(-2,+\infty)$ 上为减函数,
令 $g^{\prime}(x)=0$, 解得 $x=-1$.
故 $x \in(-2,-1), g^{\prime}(x)>0, g(x)$ 为增函数; $x \in(-1,+\infty), g^{\prime}(x)<0, g(x)$ 为减函数.
所以 $g(x) \leqslant g(-1)=0$.
设 $h(x)=\mathrm{e}^{x}-(x+1)$, 则 $h^{\prime}(x)=\mathrm{e}^{x}-1$ 在 $x \in(-2,+\infty)$ 为增函数,
令 $h^{\prime}(x)=0$, 解得 $x=0$. 故 $x \in(-2,0), h^{\prime}(x)<0, h(x)$ 为减函数;
$x \in(0,+\infty), h^{\prime}(x)>0, h(x)$ 为增函数.

所以 $h(x)_{\min }=h(0)=0$.
所以 $g(x) \leqslant$ (1) $0 \leqslant$ (2) $h(x)$,
(第(1)个等号取得的条件是 $x=-1$, 第(2)个等号取得的条件是 $x=0$ )
因此(1), (2)的等号不能同时取得, 故 $\ln (x+2)-(x+1)<\mathrm{e}^{x}-(x+1)$, 即 $\ln (x+2)<\mathrm{e}^{x}$.
综上所述, 当 $m \leqslant 2$ 时, $f(x)>0$.

【例 8】证明: $\mathrm{e}^{x}-2 x>x^{2} \ln x$.

解析
证明: 法一 (指数处理技巧) :
$\mathrm{e}^{x}-2 x>x^{2} \ln x$ 等价于 $\mathrm{e}^{-x}\left(x^{2} \ln x+2 x\right)-1<0$.
设 $f(x)=\mathrm{e}^{-x}\left(x^{2} \ln x+2 x\right)-1, f^{\prime}(x)=\mathrm{e}^{-x}\left(-x^{2} \ln x-x+2 x \ln x+2\right)=\mathrm{e}^{-x}(2-x)(x \ln x+1)$,
又 $x \ln x+1>0$ (证明略),
令 $2-x=0$, 解得 $x=2$.
所以, 当 $x \in(0,2)$ 时, $f^{\prime}(x)>0, f(x)$ 在 $x \in(0,2)$ 上为增函数;
当 $x \in(2,+\infty)$ 时, $f^{\prime}(x)<0, f(x)$ 在 $x \in(2,+\infty)$ 上为减函数.
所以 $f(x)_{\max }=f(2)=\mathrm{e}^{-2}(4+4 \ln 2)-1<\frac{7}{\mathrm{e}^{2}}-1<0$.
综上所述, $\mathrm{e}^{x}-2 x>x^{2} \ln x$.

法二(对数处理技巧):
$\mathrm{e}^{x}-2 x>x^{2} \ln x$ 等价于 $\frac{\mathrm{e}^{x}-2 x}{x^{2}}-\ln x>0$.
设 $f(x)=\frac{\mathrm{e}^{x}-2 x}{x^{2}}-\ln x, f^{\prime}(x)=\frac{\left(\mathrm{e}^{x}-x\right)(x-2)}{x^{3}}$,
又 $\mathrm{e}^{x}-x>0$ (证明略),
令 $x-2=0$, 解得 $x=2$.
所以, 当 $x \in(0,2)$ 时, $f^{\prime}(x)<0, f(x)$ 在 $x \in(0,2)$ 上为减函数;
当 $x \in(2,+\infty)$ 时, $f^{\prime}(x)>0, f(x)$ 在 $x \in(2,+\infty)$ 上为增函数.
所以 $f(x)_{\min }=f(2)=\frac{\mathrm{e}^{2}-4-4 \ln 2}{4}>\frac{\mathrm{e}^{2}-7}{4}>0$.
综上所述, $\mathrm{e}^{x}-2 x>x^{2} \ln x$.

【例 9】求证: $\mathrm{e}^{x}+(1-\mathrm{e}) x \geqslant x \ln x+1$.

解析
证明: 法一 (对数处理技巧) :
定义域 $x \in(0,+\infty)$,
$\mathrm{e}^{x}+(1-\mathrm{e}) x \geqslant x \ln x+1$ 等价于 $\frac{\mathrm{e}^{x}}{x}-\frac{1}{x}-\ln x+(1-\mathrm{e}) \geqslant 0$.
设 $f(x)=\frac{\mathrm{e}^{x}}{x}-\frac{1}{x}-\ln x+(1-\mathrm{e})$, 则 $f^{\prime}(x)=\frac{\mathrm{e}^{x}-1}{x^{2}} \cdot(x-1)$,
又 $x \in(0,+\infty), \mathrm{e}^{x}-1>0$, 故令 $x-1=0$, 解得 $x=1$.
所以, 当 $x \in(0,1)$ 时, $f^{\prime}(x)<0, f(x)$ 在 $x \in(0,1)$ 上为减函数;
当 $x \in(1,+\infty)$ 时, $f^{\prime}(x)>0, f(x)$ 在 $x \in(1,+\infty)$ 上为增函数.
所以 $f(x)_{\min }=f(1)=0$,
即 $\frac{\mathrm{e}^{x}}{x}-\frac{1}{x}-\ln x+(1-\mathrm{e}) \geqslant 0$.
证毕.

法二(凹凸反转):
定义域 $x \in(0,+\infty)$,
$\mathrm{e}^{x}+(1-\mathrm{e}) x \geqslant x \ln x+1$ 等价于 $\frac{\mathrm{e}^{x}}{x}-\frac{1}{x}+(1-\mathrm{e})-x \geqslant \ln x-x$,
即证 $\left[\frac{\mathrm{e}^{x}}{x}-\frac{1}{x}+(1-\mathrm{e})-x\right]_{\min } \geqslant(\ln x-x)_{\max }$.
设 $f(x)=\frac{\mathrm{e}^{x}}{x}-\frac{1}{x}+(1-\mathrm{e})-x$, 则 $f^{\prime}(x)=\frac{\mathrm{e}^{x}(x-1)}{x^{2}}+\frac{1}{x^{2}}-1=\frac{\left(\mathrm{e}^{x}-x-1\right)(x-1)}{x^{2}}$,
又 $x \in(0,+\infty)$ 时, $\mathrm{e}^{x}-x-1>0$ (证略),
故令 $x-1=0$, 解得 $x=1$.
所以当 $x \in(0,1)$ 时, $f^{\prime}(x)<0, f(x)$ 在 $x \in(0,1)$ 上为减函数;
当 $x \in(1,+\infty)$ 时, $f^{\prime}(x)>0, f(x)$ 在 $x \in(1,+\infty)$ 上为增函数.
所以 $f(x)_{\min }=f(1)=-1$.

设 $g(x)=\ln x-x$, 则 $g^{\prime}(x)=\frac{1}{x}-1$,
令 $g^{\prime}(x)=0$, 解得 $x=1$.
所以, 当 $x \in(0,1)$ 时, $g^{\prime}(x)>0, g(x)$ 在 $x \in(0,1)$ 上为增函数;
当 $x \in(1,+\infty)$ 时, $g^{\prime}(x)<0, g(x)$ 在 $x \in(1,+\infty)$ 上为减函数.
所以 $g(x)_{\text {max }}=g(1)=-1$.
所以 $\left[\frac{\mathrm{e}^{x}}{x}-\frac{1}{x}+(1-\mathrm{e})-x\right]_{\min } \geqslant(\ln x-x)_{\max }$.
证毕.
法三(基本放缩 + 指数处理技巧):
$x \in(0,+\infty), x-1 \geqslant \ln x$ (证略), 故 $x \ln x+1 \leqslant x(x-1)+1$.
要证 $\mathrm{e}^{x}+(1-\mathrm{e}) x \geqslant x \ln x+1$, 尝试证 $x(x-1)+1 \leqslant \mathrm{e}^{x}+(1-\mathrm{e}) x$.
处理方案一:

$x(x-1)+1 \leqslant \mathrm{e}^{x}+(1-\mathrm{e}) x$ 等价于 $\mathrm{e}^{x}-x^{2}+(2-\mathrm{e}) x-1 \geqslant 0 .$
设 $f(x)=\mathrm{e}^{x}-x^{2}+(2-\mathrm{e}) x-1$, 且 $f(1)=0$,
则 $f^{\prime}(x)=\mathrm{e}^{x}-2 x+(2-\mathrm{e})$, 且 $f^{\prime}(1)=0$,
则 $f^{\prime \prime}(x)=\mathrm{e}^{x}-2$ 在 $x \in(0,+\infty)$ 上为增函数,
令 $f^{\prime \prime}(x)=0$, 解得 $x=\ln 2$.
所以, 当 $x \in(0, \ln 2)$ 时, $f^{\prime \prime}(x)<0, f^{\prime}(x)$ 在 $x \in(0, \ln 2)$ 上为减函数;
当 $x \in(\ln 2,+\infty)$ 时, $f^{\prime \prime}(x)>0, f^{\prime}(x)$ 在 $x \in(\ln 2,+\infty)$ 上为增函数.
所以 $f^{\prime}(x)_{\min }=f^{\prime}(\ln 2)<f^{\prime}(1)=0$,
又 $f^{\prime}(0)=3-\mathrm{e}>0$,
所以存在唯一 $x_{0} \in(0, \ln 2)$, 使得 $f^{\prime}\left(x_{0}\right)=0$.
所以, 当 $x \in\left(0, x_{0}\right)$ 时, $f^{\prime}(x)>0, f(x)$ 在 $x \in\left(0, x_{0}\right)$ 上为增函数;

当 $x \in\left(x_{0}, 1\right)$ 时, $f^{\prime}(x)<0, f(x)$ 在 $x \in\left(x_{0}, 1\right)$ 上为减函数; 当 $x \in(1,+\infty)$ 时, $f^{\prime}(x)>0, f(x)$ 在 $x \in(1,+\infty)$ 上为增函数.
$$
\text { 又 } f(0)=0 \text { 且 } f(1)=0 \text {, }
$$
所以 $f(x) \geqslant f(1)=0$,
即 $\mathrm{e}^{x}+(1-\mathrm{e}) x \geqslant x(x-1)+1 \geqslant x \ln x+1$.
证毕.
处理方案二 (指数处理技巧):
$$
x(x-1)+1 \leqslant \mathrm{e}^{x}+(1-\mathrm{e}) x \text { 等价于 } \frac{x^{2}-(2-\mathrm{e}) x+1}{\mathrm{e}^{x}}-1 \leqslant 0 \text {. }
$$
设 $f(x)=\frac{x^{2}-(2-\mathrm{e}) x+1}{\mathrm{e}^{x}}-1$,
则 $f^{\prime}(x)=\frac{(-x+1)(x+\mathrm{e}-3)}{\mathrm{e}^{x}}$,
令 $(-x+1)(x+\mathrm{e}-3)=0$, 解得 $x_{1}=1$ 或 $x_{2}=3-\mathrm{e}$.
所以, 当 $x \in(0,3-\mathrm{e})$ 时, $f^{\prime}(x)<0, f(x)$ 在 $x \in(0,3-\mathrm{e})$ 上为减函数;
当 $x \in(3-\mathrm{e}, 1)$ 时, $f^{\prime}(x)>0, f(x)$ 在 $x \in(3-\mathrm{e}, 1)$ 上为增函数;
当 $x \in(1,+\infty)$ 时, $f^{\prime}(x)<0, f(x)$ 在 $x \in(1,+\infty)$ 上为减函数.
$$
\text { 又 } f(0)=0, f(1)=0,
$$
所以 $x \in(0,+\infty), f(x) \leqslant \max \{f(0), f(1)\}=0$.
所以 $\frac{x^{2}-(2-\mathrm{e}) x+1}{\mathrm{e}^{x}}-1 \leqslant 0$.
证毕.

【例 10】已知函数 $f(x)=\mathrm{e}^{a x}-1+\ln (x+1)$.
(1) 若函数 $f(x)$ 在区间 $(-1,+\infty)$ 上单调递增, 求 $a$ 的取值范围;
(2) 若 $0<a \leqslant 1$, 且 $x>0$, 求证: $f(x)>2 a x$.
- 解析
(1) $f(x)=\mathrm{e}^{a x}-1+\ln (x+1), f^{\prime}(x)=a \mathrm{e}^{a x}+\frac{1}{x+1}$,
$f(x)$ 在区间 $(-1,+\infty)$ 上单调递增,
则 $f^{\prime}(x)=a \mathrm{e}^{a x}+\frac{1}{x+1}=\frac{1}{x+1}\left[a \mathrm{e}^{a x}(x+1)+1\right] \geqslant 0$ 恒成立,
即 $a \mathrm{e}^{a x}(x+1)+1 \geqslant 0$ 恒成立.
取 $x=0$, 则 $f^{\prime}(0)=a+1 \geqslant 0$, 得 $a \geqslant-1$.
当 $a \geqslant 0$ 时, $f^{\prime}(x)>0$ 恒成立; 当 $-1 \leqslant a<0$ 时,
设 $g(x)=a \mathrm{e}^{a x}(x+1)+1$, 则 $g^{\prime}(x)=a^{2} \mathrm{e}^{a x}\left(x+\frac{1}{a}+1\right)$,
令 $x+\frac{1}{a}+1=0$,
解得 $x=-\frac{1}{a}-1$.
所以当 $x \in\left(0,-\frac{1}{a}-1\right)$ 时, $g^{\prime}(x)<0, g(x)$ 在 $x \in\left(0,-\frac{1}{a}-1\right)$ 上为减函数;
当 $x \in\left(-\frac{1}{a}-1,+\infty\right)$ 时, $g^{\prime}(x)>0, g(x)$ 在 $x \in\left(-\frac{1}{a}-1,+\infty\right)$ 上为增函数.
所以 $g(x)_{\min }=g\left(-\frac{1}{a}-1\right)=-\mathrm{e}^{-a-1}+1 \geqslant 0$,

即 $f^{\prime}(x) \geqslant 0$.
综上所述, $a$ 的取值范围是 $[-1,+\infty)$.
(2) 证明: 若 $0<a \leqslant 1$, 且 $x>0, f(x)=\mathrm{e}^{a x}-1+\ln (x+1)>2 a x$,
令 $t=a x(t>0)$,
问题证明转化为 $\mathrm{e}^{t}-1+\ln \left(\frac{t}{a}+1\right)-2 t>0$,
先将 $a$ 看作主元, 有 $\mathrm{e}^{t}-1+\ln \left(\frac{t}{a}+1\right)-2 t>\mathrm{e}^{t}-1+\ln (t+1)-2 t$,
下证关于变量 $t$ 的不等式 $\mathrm{e}^{t}-1+\ln (t+1)-2 t>0$,
$\mathrm{e}^{t}-1+\ln (t+1)-2 t>0$ 等价于 $\mathrm{e}^{t}-t-1>t-\ln (t+1)$,
令 $g(t)=\mathrm{e}^{t}-t-1$,
则 $g(\ln (t+1))=t-\ln (t+1)$,
$g(t)$ 在 $t \in(0,+\infty)$ 上单调递增, 且 $t>\ln (t+1)$ (证明略),
故 $g(t)>g(\ln (t+1))$.
综上所述, 若 $0<a \leqslant 1$, 且 $x>0, f(x)>2 a x$.

【例 11】证明: $x^{2} \mathrm{e}^{x}-\ln x-1>0(\ln 2 \approx 0.6931, \sqrt{\mathrm{e}} \approx 1.649)$.
- 解析
证明: 法一 (隐零,点代换);
设 $f(x)=x^{2} \mathrm{e}^{x}-\ln x-1$, 定义域 $x \in(0,+\infty)$,
则 $f^{\prime}(x)=\mathrm{e}^{x}\left(x^{2}+2 x\right)+\frac{-1}{x}=\frac{\mathrm{e}^{x}\left(x^{3}+2 x^{2}\right)-1}{x}$ 在 $x \in(0,+\infty)$ 上为增函数,
令 $g(x)=\mathrm{e}^{x}\left(x^{3}+2 x^{2}\right)-1$, 在 $x \in(0,+\infty)$ 上为增函数,
又 $g(0)=-1<0, g\left(\frac{1}{2}\right)=\sqrt{\mathrm{e}}\left(\frac{1}{8}+\frac{1}{2}-\frac{1}{\sqrt{\mathrm{e}}}\right)>0$,
所以存在唯一 $x_{0} \in\left(0, \frac{1}{2}\right)$, 使得 $g\left(x_{0}\right)=0$.
所以, 当 $x \in\left(0, x_{0}\right)$ 时, $g(x)<0, f^{\prime}(x)<0, f(x)$ 在 $x \in\left(0, x_{0}\right)$ 上单调递减,
当 $x \in\left(x_{0},+\infty\right)$ 时, $g(x)>0, f^{\prime}(x)>0, f(x)$ 在 $x \in\left(x_{0},+\infty\right)$ 上单调递增.
所以 $f(x)_{\min }=f\left(x_{0}\right)=x_{0}^{2} \mathrm{e}^{x_{0}}-\ln x_{0}-1(*)$,
又 $g\left(x_{0}\right)=0$, 即 $x_{0}^{3}+2 x_{0}^{2}=\frac{1}{\mathrm{e}^{x_{0}}}$, 代入 $(*)$ 式得
$f(x)_{\min }=f\left(x_{0}\right)=x_{0}^{2} \frac{1}{x_{0}^{3}+2 x_{0}^{2}}-\ln x_{0}-1=\frac{1}{x_{0}+2}-\ln x_{0}-1>\frac{1}{\frac{1}{2}+2}-\ln \frac{1}{2}-1>0$,
综上所述, $x^{2} \mathrm{e}^{x}-\ln x-1>0$.

法二(凹凸反转) :
处理方案一:
要证 $x^{2} \mathrm{e}^{x}-\ln x-1>0$, 需证 $\frac{\mathrm{e}^{x}}{x}>\frac{\ln x+1}{x^{3}}$,
下面证 $\left(\frac{\mathrm{e}^{x}}{x}\right)_{\min }>\left(\frac{\ln x+1}{x^{3}}\right)_{\max }$ 即可.
定义域 $x \in(0,+\infty)$,
设 $f(x)=\frac{\mathrm{e}^{x}}{x}$, 则 $f^{\prime}(x)=\frac{\mathrm{e}^{x}(x-1)}{x^{2}}$,

所以, 当 $x \in(0,1)$ 时, $f^{\prime}(x)<0, f(x)$ 在 $x \in(0,1)$ 上单调递减,
当 $x \in(1,+\infty)$ 时, $f^{\prime}(x)>0, f(x)$ 在 $x \in(1,+\infty)$ 上单调递增.
所以 $f(x)_{\min }=f(1)=\mathrm{e}$;
再证 $\frac{\ln x+1}{x^{3}}<\mathrm{e}$, 即 $\mathrm{ex}^{3}-\ln x-1>0$.
设 $t=x^{3}(t>0), f(t)=\mathrm{e} t-\frac{1}{3} \ln t-1$,
则 $f^{\prime}(t)=\mathrm{e}+\frac{-1}{3 t}$ 在 $t \in(0,+\infty)$ 上为增函数,
令 $f^{\prime}(t)=0$, 解得 $t=\frac{1}{3 \mathrm{e}}$,
所以当 $t \in\left(0, \frac{1}{3 \mathrm{e}}\right)$ 时, $f^{\prime}(t)<0, f(t)$ 在 $t \in\left(0, \frac{1}{3 \mathrm{e}}\right)$ 上单调递减,
当 $t \in\left(\frac{1}{3 \mathrm{e}},+\infty\right)$ 时, $f^{\prime}(t)>0, f(t)$ 在 $t \in\left(\frac{1}{3 \mathrm{e}},+\infty\right)$ 上单调递增.
所以 $f(t)_{\min }=f\left(\frac{1}{3 \mathrm{e}}\right)=\mathrm{e} \cdot \frac{1}{3 \mathrm{e}}-\frac{1}{3} \ln \frac{1}{3 \mathrm{e}}-1=\frac{1}{3}(\ln 3 \mathrm{e}-2)>0$,
综上所述,$x^{2} \mathrm{e}^{x}-\ln x-1>0$.
处理方案二：
要证 $x^{2} \mathrm{e}^{x}-\ln x-1>0$, 需证 $\frac{\mathrm{e}^{x}}{\sqrt{x}}>\frac{\ln x+1}{\sqrt{x} x^{2}}$,
令 $g(x)=\frac{\mathrm{e}^{x}}{\sqrt{x}}, h(x)=\frac{\ln x+1}{x^{2} \sqrt{x}}$,
所以 $g^{\prime}(x)=\left(x-\frac{1}{2}\right) \frac{\mathrm{e}^{x}}{x^{\frac{3}{2}}}$.
令 $g^{\prime}(x)=0$, 得 $x=\frac{1}{2}$, 当 $0<x<\frac{1}{2}$ 时, $g^{\prime}(x)<0, g(x)$ 为减函数;
当 $x>\frac{1}{2}$ 时, $g^{\prime}(x)>0, g(x)$ 为增函数,
所以 $g(x)_{\min }=g\left(\frac{1}{2}\right)=\sqrt{2 \mathrm{e}}$, 即 $g(x) \geqslant \sqrt{2 \mathrm{e}}$.

$h^{\prime}(x)=\left(-\frac{3}{2}-\frac{5}{2} \ln x\right) x^{-\frac{7}{2}}$, 令 $h^{\prime}(x)=0$ 得 $x=\mathrm{e}^{-\frac{3}{5}}$.
当 $0<x<\mathrm{e}^{-\frac{3}{5}}$ 时, $h^{\prime}(x)>0, h(x)$ 为增函数;
当 $x>\mathrm{e}^{-\frac{3}{5}}$ 时, $h^{\prime}(x)<0, h(x)$ 为减函数,
所以 $h(x)_{\max }=h\left(\mathrm{e}^{-\frac{3}{5}}\right)=\frac{2}{5} \mathrm{e}^{\frac{3}{2}}, h(x) \leqslant \frac{2}{5} \mathrm{e}^{\frac{3}{2}}$,
又 $\sqrt{2 \mathrm{e}}>\frac{2}{5} \mathrm{e}^{\frac{3}{2}}$, 所以 $g(x)>h(x)$,
即当 $x>0$ 时, $x^{2} \mathrm{e}^{x}-\ln x-1>0$.
处理方案三:
要证 $x^{2} \mathrm{e}^{x}-\ln x-1>0$, 需证 $\left(x^{2} \mathrm{e}^{x}-2 x\right)_{\min }>(\ln x-2 x+1)_{\max }$.
法三 (放缩法) :
$x^{2} \mathrm{e}^{x}-\ln x-1 \geqslant \mathrm{e} x \cdot x^{2}-\frac{1}{3} \ln x^{3}-1$
下证: $\mathrm{e} x^{3}-\frac{1}{3} \ln x^{3}-1>0$,
设 $t=x^{3}(t>0), f(t)=\mathrm{e} t-\frac{1}{3} \ln t-1$,
则 $f^{\prime}(t)=\mathrm{e}+\frac{-1}{3 t}$ 在 $t \in(0,+\infty)$ 上为增函数,
令 $f^{\prime}(t)=0$, 解得 $t=\frac{1}{3 \mathrm{e}}$,
所以当 $t \in\left(0, \frac{1}{3 \mathrm{e}}\right)$ 时, $f^{\prime}(t)<0, f(t)$ 在 $t \in\left(0, \frac{1}{3 \mathrm{e}}\right)$ 上单调递减,
当 $t \in\left(\frac{1}{3 \mathrm{e}},+\infty\right)$ 时, $f^{\prime}(t)>0, f(t)$ 在 $t \in\left(\frac{1}{3 \mathrm{e}},+\infty\right)$ 上单调递增.
所以 $f(t)_{\min }=f\left(\frac{1}{3 \mathrm{e}}\right)=\mathrm{e} \cdot \frac{1}{3 \mathrm{e}}-\frac{1}{3} \ln \frac{1}{3 \mathrm{e}}-1=\frac{1}{3}(\ln 3 \mathrm{e}-2)>0$,
综上所述, $x^{2} \mathrm{e}^{x}-\ln x-1>0$.

【例 12】已知函数 $f(x)=a \ln x+\frac{1}{x}+\frac{1}{2 x^{2}}$.
(1) 讨论函数 $f(x)$ 的单调性;
(2) 证明: $(x-1)\left(\mathrm{e}^{-x}-x\right)+2 \ln x<\frac{2}{3}$.
- 解析
(1) $f(x)$ 的定义域为 $(0,+\infty)$,
则 $f^{\prime}(x)=\frac{a}{x}-\frac{1}{x^{2}}-\frac{1}{x^{3}}=\frac{a x^{2}-x-1}{x^{3}}$,
当 $a \leqslant 0$ 时, $f^{\prime}(x)<0$, 则 $f(x)$ 在 $(0,+\infty)$ 上单调递减.
当 $a>0$ 时, 令 $f^{\prime}(x)=0$, 即 $a x^{2}-x-1=0$,
解得 $x=\frac{1+\sqrt{1+4 a}}{2 a}$ 或 $x=\frac{1-\sqrt{1+4 a}}{2 a}$ (舍),
所以当 $x \in\left(0, \frac{1+\sqrt{1+4 a}}{2 a}\right)$ 时, $f^{\prime}(x)<0, f(x)$ 单调递减; 当 $x \in\left(\frac{1+\sqrt{1+4 a}}{2 a},+\infty\right)$ 时, $f^{\prime}(x)>0, f(x)$ 单调递增.

(2) 证明: 法一 : 当 $a=2$ 时, 由 $(1)$ 可知 $f(x)$ 在 $(0,1)$ 上单调递减, 在 $(1,+\infty)$ 上单调递增.
所以 $f(x)_{\min }=f(1)=\frac{3}{2}, 2 \ln x+\frac{1}{x}+\frac{1}{2 x^{2}} \geqslant \frac{3}{2}$.
即 $2 \ln \frac{1}{x}+x+\frac{1}{2} x^{2} \geqslant \frac{3}{2}, 2 \ln x-x-\frac{1}{2} x^{2} \leqslant-\frac{3}{2}$.
$(x-1)\left(\mathrm{e}^{-x}-x\right)+2 \ln x=(x-1) \mathrm{e}^{-x}-x^{2}+x+2 \ln x=(x-1) \mathrm{e}^{-x}-\frac{x^{2}}{2}+2 x+$
$$
\left(2 \ln x-x-\frac{x^{2}}{2}\right)<(x-1) e^{-x}-\frac{x^{2}}{2}+2 x-\frac{3}{2}
$$

$$
\text { 令 } g(x)=(x-1) \mathrm{e}^{-x}-\frac{x^{2}}{2}+2 x, x>0 \text {, }
$$
则 $g^{\prime}(x)=(2-x)\left(\mathrm{e}^{-x}+1\right)$,
易知 $x=2$ 时, $g(x)$ 取得最大值,
即 $g(x) \leqslant g(2)=\frac{1}{\mathrm{e}^{2}}+2$.
所以 $(x-1) \mathrm{e}^{-x}-\frac{x^{2}}{2}+2 x+2 \ln x-x-\frac{x^{2}}{2}=(x-1)\left(\mathrm{e}^{-x}-x\right)+2 \ln x<\frac{1}{\mathrm{e}}+2-\frac{3}{2}<\frac{2}{3}$.
法一用到了第一问的结论, 体现了题目的连续性, 但是需转换不等号的方向, 有一定的思
维难度. 观察题目特征, 若能利用放缩法, 可简化解题.
法二:利用 $\ln x \leqslant x-1$ (当且仅当 $x=1$ 时取等号) 进行放缩.
$$
(x-1)\left(\mathrm{e}^{-x}-x\right)+2 \ln x<(x-1)\left(\mathrm{e}^{-x}-x\right)+2(x-1)=(x-1) \mathrm{e}^{-x}-(x-1)(x-2),
$$
只需证 $(x-1) \mathrm{e}^{-x}<(x-1)(x-2)+\frac{2}{3}=x^{2}-3 x+\frac{8}{3}$.
令 $h(x)=(x-1) \mathrm{e}^{-x}, g(x)=x^{2}-3 x+\frac{8}{3}$,
易得 $h(x)_{\max }=\frac{1}{\mathrm{e}^{2}}<g(x)_{\min }=\frac{5}{12}$,
所以原命题得证.

# 第三章 恒成立求参
### 第 01 讲 分类讨论
知识纵横 (1) 熟练求解含参二次函数的讨论分界点;
(2)多次求导.
典例剖析
【例 1】 $(\star \star \star)$ 已知函数 $f(x)=\ln x+a(1-x)$.
(1) 讨论 $f(x)$ 的单调性;
(2) 当 $f(x)$ 有最大值, 且最大值大于 $2 a-2$ 时, 求 $a$ 的取值范围.

解析

(1) 由题知, $f(x)$ 的定义域为 $(0,+\infty), f(x)$ 的导函数 $f^{\prime}(x)=\frac{1}{x}-a$, 因此按 $a$ 与 0 的大
小关系展开讨论.
情形一: 当 $a \leqslant 0$ 时, $f^{\prime}(x)>0$, 于是 $f(x)$ 在 $(0,+\infty)$ 上单调递增;
情形二: 当 $a>0$ 时, 在 $\left(0, \frac{1}{a}\right)$ 上 $f^{\prime}(x)>0$, 在 $\left(\frac{1}{a},+\infty\right)$ 上 $f^{\prime}(x)<0$, 于是函数 $f(x)$ 在 $\left(0, \frac{1}{a}\right)$ 上单调递增, 在 $\left(\frac{1}{a},+\infty\right)$ 上单调递减.
(2) 根据第 (1) 小题的结论, 当 $a>0$ 时, 函数 $f(x)$ 有最大值 $f\left(\frac{1}{a}\right)=-\ln a+a-1$.
根据题意, 有 $-\ln a+a-1>2 a-2$, 即 $-\ln a-a+1>0$.
记左边函数为 $g(a)=-\ln a-a+1$, 则该函数为 $(0,+\infty)$ 上的单调递减函数,
且 $g(1)=0$. 于是所求的 $a$ 的取值范围是 $(0,1)$.

【例 2】 $(\star \star \star)$ 设函数 $f(x)=\left(2 x^{2}-4 a x\right) \ln x+x^{2}$.
(1) 求函数 $f(x)$ 的单调区间;
(2) 若不等式 $f(x)>0$ 对 $x \geqslant 1$ 恒成立, 求 $a$ 的取值范围.
- 解析
(1) 由题知, $f(x)$ 的定义域为 $(0,+\infty), f^{\prime}(x)=4(x-a)(1+\ln x)$.
令 $f^{\prime}(x)=0$, 解得 $x=a$ 或 $x=\frac{1}{\mathrm{e}}$.
情形一: 当 $a \leqslant 0$ 时, $f(x)$ 在 $\left(0, \frac{1}{\mathrm{e}}\right)$ 上单调递减, 在 $\left(\frac{1}{\mathrm{e}},+\infty\right)$ 上单调递增;
情形二: 当 $0<a<\frac{1}{\mathrm{e}}$ 时, $f(x)$ 在 $(0, a)$ 和 $\left(\frac{1}{\mathrm{e}}+\infty\right)$ 上单调递增, 在 $\left(a, \frac{1}{\mathrm{e}}\right)$ 上单调递减;
情形三: 当 $a=\frac{1}{\mathrm{e}}$ 时, $f(x)$ 在 $(0,+\infty)$ 上单调递增;
情形四: 当 $a>\frac{1}{\mathrm{e}}$ 时, $f(x)$ 在 $\left(0, \frac{1}{\mathrm{e}}\right)$ 和 $(a,+\infty)$ 上单调递增, 在 $\left(\frac{1}{\mathrm{e}}, a\right)$ 上单调递减.
(2) 由 (1) 可知, 当 $a \leqslant 1$ 时, $f(x)$ 在 $[1,+\infty)$ 上单调递增, 故只需满足 $f(1)>0$ 即可, 而此 时 $f(1)=1>0$ 恒成立, 所以 $a \leqslant 1$ 满足题意.
当 $a>1$ 时, $f(x)$ 在 $[1, a)$ 上单调递减, 在 $(a,+\infty)$ 上单调递增,
所以只需满足 $f(a)=a^{2}(1-2 \ln a)>0$,
解得 $1<a<\sqrt{\mathrm{e}}$.
综上所述, 若不等式 $f(x)>0$ 对 $\forall x \in[1,+\infty)$ 恒成立, 则 $a$ 的取值范围是 $(-\infty, \sqrt{\mathrm{e}})$.

【例3】已知函数 $f(x)=\mathrm{e}^{2 x}+2 f(0) \mathrm{e}^{x}-f^{\prime}(0) x$.
(1) 求 $f(x)$ 的单调区间;
(2) 当 $x>0$ 时, $a f(x)<\mathrm{e}^{x}-x$ 恒成立, 求 $a$ 的取值范围.
- 解析
(1) 由 $f(0)=1+2 f(0)$, 得 $f(0)=-1$.
因为 $f^{\prime}(x)=2 \mathrm{e}^{2 x}-2 \mathrm{e}^{x}-f^{\prime}(0)$, 所以 $f^{\prime}(0)=2-2-f^{\prime}(0)$, 解得 $f^{\prime}(0)=0$. 所以 $f(x)=\mathrm{e}^{2 x}-2 \mathrm{e}^{x}, f^{\prime}(x)=2 \mathrm{e}^{2 x}-2 \mathrm{e}^{x}=2 \mathrm{e}^{x}\left(\mathrm{e}^{x}-1\right)$, 令 $f^{\prime}(x)=0$, 解得 $x=0$. 当 $x \in(-\infty, 0)$ 时, $f^{\prime}(x)<0, f(x)$ 在 $(-\infty, 0)$ 上单调递减; 当 $x \in(0,+\infty)$ 时, $f^{\prime}(x)>0, f(x)$ 在 $(0,+\infty)$ 上单调递增.
(2) 当 $x>0$ 时, $a f(x)<\mathrm{e}^{x}-x$ 恒成立, 等价于 $a f(x)-\mathrm{e}^{x}+x<0$ 恒成立. 设 $g(x)=a f(x)-\mathrm{e}^{x}+x=a \mathrm{e}^{2 x}-(2 a+1) \mathrm{e}^{x}+x$, 则 $g^{\prime}(x)=2 a \mathrm{e}^{2 x}-(2 a+1) \mathrm{e}^{x}+1=\left(2 a \mathrm{e}^{x}-1\right)\left(\mathrm{e}^{x}-1\right)$.
讨论导数根的情况,
情形一: 当 $a \leqslant 0$ 时,
$x \in(0,+\infty)$ 时, $g^{\prime}(x)<0, g(x)$ 在 $(0,+\infty)$ 上是减函数,
于是 $g(x)<g(0) \leqslant 0$, 即 $a-(2 a+1) \leqslant 0$, 解得 $a \geqslant-1$, 故 $-1 \leqslant a \leqslant 0$;
情形二: 当 $a>0$ 时, $g\left(\ln \frac{2 a+1}{a}\right)=\ln \frac{2 a+1}{a}>0$, 所以不符合题意;
综上所述, $a$ 的取值范围是 $[-1,0]$.

或详细叙述:
当 $a>0$ 时, 令 $2 a \mathrm{e}^{x}-1=0$, 解得 $x=\ln \frac{1}{2 a}$.
用导数根划分定义域,
当 $a \geqslant \frac{1}{2}, x \in(0,+\infty)$ 时, $g^{\prime}(x)>0, g(x)$ 在 $(0,+\infty)$ 上是增函数,
$g\left(\ln \frac{2 a+1}{a}\right)=\ln \frac{2 a+1}{a}>0$, 所以不符合题,意;
当 $0<a<\frac{1}{2}, x \in\left(\ln \frac{1}{2 a},+\infty\right)$ 时, $g^{\prime}(x)>0, g(x)$ 在 $\left(\ln \frac{1}{2 a},+\infty\right)$ 上是增函数，
$g\left(\ln \frac{2 a+1}{a}\right)=\ln \frac{2 a+1}{a}>0$, 所以不符合题意.
综上所述, $a$ 的取值范围是 $[-1,0]$.

### 第 02 讲 分离参数
知识纵横

1. 在处理含参 $a$ 的函数 $f(x, a)$ 的不等式和方程问题时, 有时可以将变量分离出来. 如将方程 $f(x, a)=0$ 转化为 $g(x)=h(a)$, 这样就把研究含参函数 $f(x, a)$ 与 $x$ 轴的位置关系的问题转 化为不含参的函数 $y=g(x)$ 与动直线 $y=h(a)$ 的位置关系问题. 这种处理方法称为分离变 量法.
备注: 分离变量法可以将含参函数中的参数分离出去, 避免直接讨论, 从而简化运算, 但可 能存在以下问题:
(1)参数无法分离; (2)分离参数后的函数 $y=g(x)$ 过于复杂; (3)讨论位置关系时可能用到 $y=g(x)$ 的函数极限, 造成说理困难.
2. 在处理含参 $a$ 的函数 $f(x, a)$ 的不等式和方程问题时, 有时可以将变量部分分离出来. 如将 方程 $f(x, a)=0$ 转化为 $g(x)=h(a)\left(x-x_{0}\right)+y_{0}$, 这样就把研究含参函数 $f(x, a)$ 与 $x$ 轴的 位置关系的问题转化为不含参的函数 $y=g(x)$ 与过定点的动直线 $y=h(a)\left(x-x_{0}\right)+y_{0}$ 的 位置关系问题. 这种处理方法称为半分离变量法.
典例剖析
【例 4】设函数 $f(x)=\ln x+\frac{m}{x}$.
(1) 讨论函数 $g(x)=f^{\prime}(x)-\frac{x}{3}$ 零点的个数;
(2) 若对任意 $b>a>0, \frac{f(b)-f(a)}{b-a}<1$ 恒成立, 求 $m$ 的取值范围.

(1) $f(x)=\ln x+\frac{m}{x}$, 定义域 $x \in(0,+\infty)$,
则 $f^{\prime}(x)=\frac{x-m}{x^{2}}$,
由题意可得, $g(x)=\frac{x-m}{x^{2}}-\frac{x}{3}(x>0)$.
令 $g(x)=0$, 分离参数得 $m=-\frac{1}{3} x^{3}+x(x>0)$.
设 $h(x)=-\frac{1}{3} x^{3}+x(x>0)$, 则 $h^{\prime}(x)=-x^{2}+1$.
令 $h^{\prime}(x)=-x^{2}+1=0$,
解得 $x=1$ (负值舍去).
当 $x \in(0,1)$ 时, $h^{\prime}(x)>0, h(x)$ 在 $x \in(0,1)$ 上单调递增;
当 $x \in(1,+\infty)$ 时, $h^{\prime}(x)<0, h(x)$ 在 $x \in(1,+\infty)$ 上单调递减;
所以 $h(x)_{\max }=h(1)=\frac{2}{3}$.
令 $h(x)=-\frac{1}{3} x^{3}+x=0$, 解得 $x=0$ 或 $x=\sqrt{3}$ (负值舍去),
故函数 $h(x)$ 在 $x \in(0,+\infty)$ 上的大致图象如图所示:

![image-20220210221246138](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20220210221246138.png)

由图可知,
当 $m>\frac{2}{3}$ 时, 函数 $y=m$ 和函数 $y=h(x)$ 无交点;
当 $m=\frac{2}{3}$ 时, 函数 $y=m$ 和函数 $y=h(x)$ 有且仅有一个交点;
当 $0<m<\frac{2}{3}$ 时, 函数 $y=m$ 和函数 $y=h(x)$ 有两个交点;
当 $m \leqslant 0$ 时, 函数 $y=m$ 和函数 $y=h(x)$ 有且仅有一个交点.
综上所述,
当 $m>\frac{2}{3}$ 时, 函数 $g(x)$ 无零点;
当 $m=\frac{2}{3}$ 或 $m \leqslant 0$ 时, 函数 $g(x)$ 有且仅有一个零点;
当 $0<m<\frac{2}{3}$ 时, 函数 $g(x)$ 有两个零,点.

(2) 对任意 $b>a>0, \frac{f(b)-f(a)}{b-a}<1$ 恒成立,
即对任意 $b>a>0, f(b)-b<f(a)-a$ 恒成立.
设 $\varphi(x)=f(x)-x=\ln x+\frac{m}{x}-x$,
则 $\varphi^{\prime}(x)=\frac{1}{x}-\frac{m}{x^{2}}-1=\frac{-x^{2}+x-m}{x^{2}}$,
由对任意 $b>a>0, f(b)-b<f(a)-a$ 恒成立得, $\varphi(x)$ 在 $x \in(0,+\infty)$ 上单调递减,
所以 $\varphi^{\prime}(x) \leqslant 0$,
即 $-x^{2}+x-m \leqslant 0$ 在 $x \in(0,+\infty)$ 上恒成立,
从而 $m \geqslant-x^{2}+x$ 在 $x \in(0,+\infty)$ 上恒成立,
又 $-x^{2}+x \leqslant \frac{1}{4}$, 当且仅当 $x=\frac{1}{2}$ 时取等号, 因此 $m \geqslant \frac{1}{4}$.
故 $m$ 的取值范围是 $\left[\frac{1}{4},+\infty\right)$.

【例 5】已知函数 $f(x)=\frac{x}{\ln x}-a x+b$ 在点 $(\mathrm{e}, f(\mathrm{e}))$ 处的切线方程为 $y=-a x+2 \mathrm{e}$.
(1) 求实数 $b$ 的值;
(2) 若存在 $x \in\left[\mathrm{e}, \mathrm{e}^{2}\right]$, 满足 $f(x) \leqslant \frac{1}{4}+\mathrm{e}$, 求实数 $a$ 的取值范围.
- 角㸮析
(1) 函数 $f(x)$ 的定义域为 $(0,1) \cup(1,+\infty)$.
因为 $f(x)=\frac{x}{\ln x}-a x+b$, 所以 $f^{\prime}(x)=\frac{\ln x-1}{\ln ^{2} x}-a$.
$f^{\prime}(\mathrm{e})=-a, f(\mathrm{e})=\mathrm{e}-a \mathrm{e}+b$,
所以函数 $f(x)$ 在点 $(\mathrm{e}, f(\mathrm{e}))$ 处的切线方程为 $y-(\mathrm{e}-a \mathrm{e}+b)=-a(x-\mathrm{e})$,
即 $y=-a x+\mathrm{e}+b$.
已知函数 $f(x)$ 在点 $(\mathrm{e}, f(\mathrm{e}))$ 处的切线方程为 $y=-a x+2 \mathrm{e}$, 比较求得 $b=\mathrm{e}$.
所以实数 $b$ 的值为 $\mathrm{e}$.
(2) 由 $f(x) \leqslant \frac{1}{4}+\mathrm{e}$, 得 $\frac{x}{\ln x}-a x+\mathrm{e} \leqslant \frac{1}{4}+\mathrm{e}$.
所以问题转化为 $a \geqslant \frac{1}{\ln x}-\frac{1}{4 x}$ 在 $\left[\mathrm{e}, \mathrm{e}^{2}\right]$ 上有解.

(2) 由 $f(x) \leqslant \frac{1}{4}+\mathrm{e}$, 得 $\frac{x}{\ln x}-a x+\mathrm{e} \leqslant \frac{1}{4}+\mathrm{e}$.
所以问题转化为 $a \geqslant \frac{1}{\ln x}-\frac{1}{4 x}$ 在 $\left[\mathrm{e}, \mathrm{e}^{2}\right]$ 上有解.
令 $h(x)=\frac{1}{\ln x}-\frac{1}{4 x}, x \in\left[\mathrm{e}, \mathrm{e}^{2}\right]$,
则 $h^{\prime}(x)=\frac{1}{4 x^{2}}-\frac{1}{x \ln ^{2} x}=\frac{\ln ^{2} x-4 x}{4 x^{2} \ln ^{2} x}=\frac{(\ln x+2 \sqrt{x})(\ln x-2 \sqrt{x})}{4 x^{2} \ln ^{2} x}$.
令 $p(x)=\ln x-2 \sqrt{x}$, 所以当 $x \in\left[\mathrm{e}, \mathrm{e}^{2}\right]$ 时, 有 $p^{\prime}(x)=\frac{1}{x}-\frac{1}{\sqrt{x}}=\frac{1-\sqrt{x}}{x}<0$.
所以函数 $p(x)$ 在区间 $\left[\mathrm{e}, \mathrm{e}^{2}\right]$ 上单调递减.
所以 $p(x)<p(\mathrm{e})=\ln \mathrm{e}-2 \sqrt{\mathrm{e}}<0$.
所以 $h^{\prime}(x)<0$, 即 $h(x)$ 在区间 $\left[\mathrm{e}, \mathrm{e}^{2}\right]$ 上单调递减.
所以 $h(x) \geqslant h\left(\mathrm{e}^{2}\right)=\frac{1}{2}-\frac{1}{4 \mathrm{e}^{2}}$.
所以实数 $a$ 的取值范围为 $\left[\frac{1}{2}-\frac{1}{4 \mathrm{e}^{2}},+\infty\right)$.

【例 6】 设 $a$ 为正实数, 函数 $f(x)=a \mathrm{e}^{x}$ 的图象与 $y$ 轴的交点为 $A$, 函数 $g(x)=\ln \frac{x}{a}$ 的图象与 $x$ 轴的交点为 $B$, 若点 $A$ 到函数 $g(x)$ 的图象上的任意一点的线段长的最小值为 $|A B|$.
(1) 求 $a$ 的值;
(2) 对任意 $x>0$ 且 $x \neq 1, \frac{x-m}{g(x)}>\sqrt{x}$ 恒成立, 求实数 $m$ 的取值范围.
(1) 由题意得 $f(0)=a$, 则 $A(0, a)$, 由 $g(x)=\ln \frac{x}{a}=0$, 解得 $x=a$, 则 $B(a, 0)$,
若使 $A$ 到 $B$ 的长度为 $A$ 到 $g(x)$ 图象上任意点间距离的最小值, 则直线 $A B$ 必垂直于曲线 $y=g(x)$ 在 $B$ 点处的切线,
又 $g(x)=\ln \frac{x}{a}$, 所以 $g^{\prime}(x)=\frac{1}{x}$,
所以 $g^{\prime}(a) \cdot k_{A B}=\frac{1}{a} \cdot \frac{a-0}{0-a}=-1$,
解得 $a=1$.
(2) 由 (1) 得 $g(x)=\ln x$, 则 $\frac{x-m}{g(x)}=\frac{x-m}{\ln x}>\sqrt{x}$,
下面分离参数,
$\frac{x-m}{\ln x}>\sqrt{x}$ 等价于 $\left\{\begin{array}{l}m>x-\sqrt{x} \ln x, 0<x<1 \\ m<x-\sqrt{x} \ln x, x>1\end{array},\right.$,
设 $h(x)=x-\sqrt{x} \ln x$, 则 $h^{\prime}(x)=1-\frac{\ln x+2}{2 \sqrt{x}}=1-\frac{2 \ln \sqrt{x}+2}{2 \sqrt{x}}>1-\frac{2(\sqrt{x}-1)+2}{2 \sqrt{x}}=0(\ln x \leqslant x$
$-1, x=1$ 时取 “ $=$ ”, 证略),
所以, 当 $x \in(0,1)$ 时, $h(x)$ 是增函数, $h(x)<h(1)=1 \leqslant m$;
当 $x \in(1,+\infty)$ 时, $h(x)$ 是增函数, $h(x)>h(1)=1 \geqslant m$.
即 $m=1$.
综上所述, 实数 $m$ 的取值范围是 $\{1\}$.

【例7】已知函数 $f(x)=x+x \ln x$, 若 $k \in \mathbf{Z}$, 且 $k(x-2)<f(x)$ 对任意 $x \in(2,+\infty)$ 恒成立, $k$ 的最大值.
- 解析
法一(分离参数 + 隐极值点代换):
对任意 $x \in(2,+\infty), k(x-2)<f(x)$ 可化为 $k<\frac{f(x)}{x-2}=\frac{x+x \ln x}{x-2}$.
设 $g(x)=\frac{x+x \ln x}{x-2}$, 则 $g^{\prime}(x)=\frac{x-2 \ln x-4}{(x-2)^{2}}$,
令 $h(x)=x-2 \ln x-4$, 则 $h^{\prime}(x)=1-\frac{2}{x}>0$,
故 $h(x)$ 在 $x \in(2,+\infty)$ 上是增函数,
且 $h(8)=8-2 \ln 8-4=2(2-\ln 8)<0, h(9)=9-2 \ln 9-4=5-\ln 81>0$.
故存在唯一 $x_{0} \in(8,9)$, 使得 $h\left(x_{0}\right)=x_{0}-2 \ln x_{0}-4=0$, 即 $2 \ln x_{0}=x_{0}-4$.
故当 $x \in\left(2, x_{0}\right)$ 时, $h(x)<0, g^{\prime}(x)<0, g(x)$ 在 $x \in\left(2, x_{0}\right)$ 上是减函数;
当 $x \in\left(x_{0},+\infty\right)$ 时, $h(x)>0, g^{\prime}(x)>0, g(x)$ 在 $x \in\left(x_{0},+\infty\right)$ 上是增函数.
故 $g(x)_{\min }=g\left(x_{0}\right)=\frac{x_{0}+x_{0} \ln x_{0}}{x_{0}-2}>k(*)$, 又 $2 \ln x_{0}=x_{0}-4$, 代入 $(*)$ 得,

$k<g\left(x_{0}\right)=\frac{x_{0}}{2} \in\left(4, \frac{9}{2}\right)$, 故 $k$ 的最大值是 $4 .$
法二 (对数处理技巧 + 分类讨论):
对任意 $x \in(2,+\infty), k(x-2)<f(x)$ 可化为 $\ln x+\frac{2 k}{x}+(1-k)>0$.
设 $g(x)=\ln x+\frac{2 k}{x}+(1-k)$, 则 $g^{\prime}(x)=\frac{1}{x}-\frac{2 k}{x^{2}}=\frac{x-2 k}{x^{2}}$,
当 $2-2 k \geqslant 0$, 即 $k \leqslant 1$ 时, $g^{\prime}(x)>0, g(x)$ 在 $x \in(2,+\infty)$ 上是增函数, $g(x)_{\min }>g(2)=\ln 2+1>0$, 成立;
当 $k>1$ 时, 令 $x-2 k=0$, 解得 $x=2 k$.
故当 $x \in(2,2 k)$ 时, $g^{\prime}(x)<0, g(x)$ 在 $x \in(2,2 k)$ 上是减函数;
当 $x \in(2 k,+\infty)$ 时, $g^{\prime}(x)>0, g(x)$ 在 $x \in(2 k,+\infty)$ 上是增函数.
$g(x)_{\min }=g(2 k)=\ln 2 k-k+2>0$,

令 $h(k)=\ln 2 k-k+2, h^{\prime}(k)=\frac{1}{k}-1<0, h(k)$ 在 $k \in(1,+\infty)$ 上是减函数,
又 $k \in \mathbf{Z}$, 且 $h(4)=\ln 8-2>0, h(5)=\ln 10-3<0$.
所以 $k$ 的最大值是 $4 .$
法三(直接移项构造函数分类讨论):
对任意 $x \in(2,+\infty), k(x-2)<f(x)$ 可化为 $x \ln x+(1-k) x+2 k>0$.
设 $g(x)=x \ln x+(1-k) x+2 k$,
则 $g^{\prime}(x)=\ln x+2-k \in(\ln 2+2-k,+\infty)$.
当 $k \leqslant \ln 2+2$ 时, $g^{\prime}(x)>0, g(x)$ 在 $x \in(2,+\infty)$ 上是增函数,
$g(x)_{\min }>g(2)=2 \ln 2+2>0$, 成立;
当 $k>\ln 2+2$ 时, 令 $\ln x+2-k=0$,
解得 $x=\mathrm{e}^{k-2}$,
故当 $x \in\left(2, \mathrm{e}^{k-2}\right)$ 时, $g^{\prime}(x)<0, g(x)$ 在 $x \in\left(2, \mathrm{e}^{k-2}\right)$ 上是减函数;
当 $x \in\left(\mathrm{e}^{k-2},+\infty\right)$ 时, $g^{\prime}(x)>0, g(x)$ 在 $x \in\left(\mathrm{e}^{k-2},+\infty\right)$ 上是增函数.
$g(x)_{\min }=g\left(\mathrm{e}^{k-2}\right)=\mathrm{e}^{k-2} \ln \left(\mathrm{e}^{k-2}\right)+(1-k) \mathrm{e}^{k-2}+2 k=2 k-\mathrm{e}^{k-2}$,
令 $h(k)=2 k-\mathrm{e}^{k-2}, h^{\prime}(k)=2-\mathrm{e}^{k-2}<0, h(k)$ 在 $k \in(2+\ln 2,+\infty)$ 上是减函数,
又 $k \in \mathbf{Z}$, 且 $h(4)=8-\mathrm{e}^{2}>0, h(5)=10-\mathrm{e}^{3}<0$.
所以 $k$ 的最大值是 $4 .$

【例 8】已知对任意的 $x>0$, 不等式 $x \mathrm{e}^{2 x}-k x-\ln x-1 \geqslant 0$ 恒成立, 求实数 $k$ 的取值范围.
- 解析
法一 (分离变量 $+\mathrm{e}^{x} \geqslant x+1$ 放缩):
对任意的 $x>0$, 不等式 $x \mathrm{e}^{2 x}-k x-\ln x-1 \geqslant 0$ 恒成立,
等价于 $k \leqslant \frac{x \mathrm{e}^{2 x}-\ln x-1}{x}=\frac{\mathrm{e}^{2 x+\ln x}-(\ln x+1)}{x}$ 恒成立.
由 $\mathrm{e}^{x} \geqslant x+1$ (当且仅当 $x=0$ 时, 取等号,证明略),
所以 $\mathrm{e}^{2 x+\ln x} \geqslant 2 x+\ln x+1$ (当且仅当 $2 x+\ln x=0$ 时, 取等号),
$\frac{\mathrm{e}^{2 x+\ln x}-(\ln x+1)}{x} \geqslant \frac{2 x+\ln x+1-(\ln x+1)}{x}=2$, 所以 $k \leqslant 2$.
综上所述, 实数 $k$ 的取值范围为 $(-\infty, 2]$.
法二 (分离参数 + 隐零点估值与代换):
对任意的 $x>0$, 不等式 $x \mathrm{e}^{2 x}-k x-\ln x-1 \geqslant 0$ 恒成立,
等价于 $k \leqslant \frac{x \mathrm{e}^{2 x}-\ln x-1}{x}=\frac{\mathrm{e}^{2 x+\ln x}-(\ln x+1)}{x}$ 恒成立.
设 $g(x)=\mathrm{e}^{2 x}-\frac{1}{x}-\frac{\ln x}{x}$,
则 $g^{\prime}(x)=2 \mathrm{e}^{2 x}+\frac{\ln x}{x^{2}}$,
所以 $g^{\prime \prime}(x)=4 \mathrm{e}^{2 x}-\frac{2 \ln x-1}{x^{3}}=\frac{4 x^{3} \cdot \mathrm{e}^{2 x}-2 \ln x+1}{x^{3}}$.
由于 $x>0$, 所以 $\mathrm{e}^{2 x}>\mathrm{e}^{0}=1, \ln x \leqslant x-1\left(\varphi(x)=\ln x-x+1, \varphi^{\prime}(x)=\frac{1}{x}-1\right.$,

$$
\left.\varphi(x)_{\min }=\varphi(1)=0\right) .
$$

所以 $g^{\prime \prime}(x)=\frac{4 x^{3} \mathrm{e}^{2 x}-2 \ln x+1}{x^{3}}>\frac{4 x^{3}-2(x-1)+1}{x^{3}}=4-\frac{2}{x^{2}}+\frac{3}{x^{3}}>0$,
所以 $g^{\prime}(x)$ 在 $(0,+\infty)$ 上单调递增.
$$
\text { 又 } g^{\prime}(1)=2 \mathrm{e}^{2}>0, g^{\prime}\left(\frac{1}{\mathrm{e}}\right)=2 \mathrm{e}^{\frac{2}{e}}-\mathrm{e}^{2}<2 \mathrm{e}-\mathrm{e}^{2}<0,
$$
所以 $g^{\prime}(x)$ 存在唯一零,点,
设为 $x_{0}$, 且 $x_{0} \in\left(\frac{1}{\mathrm{e}}, 1\right)$, 则 $2 \mathrm{e}^{2 x_{0}}+\frac{\ln x_{0}}{x_{0}^{2}}=0$,
所以 $g(x)_{\min }=g\left(x_{0}\right)=\mathrm{e}^{2 x_{0}}-\frac{1+\ln x_{0}}{x_{0}}$,
令 $x_{0}^{2} \mathrm{e}^{2 x_{0}}=t>0$, 则 $\left\{\begin{array}{l}2 t+\ln x_{0}=0, \\ \ln \left(x_{0}^{2} \mathrm{e}^{2 x_{0}}\right)=\ln t \Rightarrow 2 \ln x_{0}+2 x_{0}=\ln t,\end{array}\right.$
则有 $\ln x_{0}+2 x_{0}=\ln t-\ln x_{0}=\ln t-(-2 t)=\ln t+2 t$.
因为 $h(x)=\ln x+2 x$ 为单调递增函数,
所以 $x_{0}=t$,
所以 $g(x)_{\min }=g\left(x_{0}\right)=\frac{t}{x_{0}^{2}}-\frac{1-2 t}{x_{0}}=\frac{1}{t}-\frac{1-2 t}{t}=2$.
所以 $k \leqslant 2$.

【例 9】已知函数 $f(x)=\ln ^{2}(1+x)-\frac{x^{2}}{1+x}$.
(1) 求函数 $f(x)$ 的单调区间;
(2) 若不等式 $\left(1+\frac{1}{n}\right)^{n+a} \leqslant \mathrm{e}$ 对任意的 $n \in \mathbf{N}^{*}$ 都成立（其中 $\mathrm{e}$ 是自然对数的底数）, 求 $a$ 的最大值.
- 解析
(1) 函数 $f(x)$ 的定义域是 $(-1,+\infty)$,
$$
\begin{aligned}
&f^{\prime}(x)=\frac{2 \ln (1+x)}{1+x}-\frac{x^{2}+2 x}{(1+x)^{2}}=\frac{2(1+x) \ln (1+x)-x^{2}-2 x}{(1+x)^{2}}, \\
&\text { 设 } g(x)=2(1+x) \ln (1+x)-x^{2}-2 x, \text { 则 } g^{\prime}(x)=2 \ln (1+x)-2 x, \\
&\text { 令 } h(x)=2 \ln (1+x)-2 x, \text { 则 } h^{\prime}(x)=\frac{2}{1+x}-2=\frac{-2 x}{1+x},
\end{aligned}
$$
$$
\text { 当 }-1<x<0 \text { 时, } h^{\prime}(x)>0, h(x) \text { 在 }(-1,0) \text { 上为增函数, }
$$
当 $x>0$ 时, $h^{\prime}(x)<0, h(x)$ 在 $(0,+\infty)$ 上为减函数.
所以 $h(x)$ 在 $x=0$ 处取得极大值, 而 $h(0)=0$, 所以 $g^{\prime}(x)<0(x \neq 0)$,
故函数 $g(x)$ 在 $(-1,+\infty)$ 上为减函数.
于是当 $-1<x<0$ 时, $g(x)>g(0)=0$, 当 $x>0$ 时, $g(x)<g(0)=0$,
所以, 当 $-1<x<0$ 时, $f^{\prime}(x)>0, f(x)$ 在 $(-1,0)$ 上为增函数.
当 $x>0$ 时, $f^{\prime}(x)<0, f(x)$ 在 $(0,+\infty)$ 上为减函数.
故函数 $f(x)$ 的单调递增区间为 $(-1,0)$, 单调递减区间为 $(0,+\infty)$.
(2) 不等式 $\left(1+\frac{1}{n}\right)^{n+a} \leqslant \mathrm{e}$ 等价于不等式 $(n+a) \ln \left(1+\frac{1}{n}\right) \leqslant 1$, 由 $1+\frac{1}{n}>1$ 知,

则 $G^{\prime}(x)=-\frac{1}{(1+x) \ln ^{2}(1+x)}+\frac{1}{x^{2}}=\frac{(1+x) \ln ^{2}(1+x)-x^{2}}{x^{2}(1+x) \ln ^{2}(1+x)}$,
由 (1) 知, $\ln ^{2}(1+x)-\frac{x^{2}}{1+x} \leqslant 0$, 即 $(1+x) \ln ^{2}(1+x)-x^{2} \leqslant 0$,
所以 $G^{\prime}(x)<0, x \in(0,1]$, 于是 $G(x)$ 在 $(0,1]$ 上为减函数.
故函数 $G(x)$ 在 $(0,1]$ 上的最小值为 $G(1)=\frac{1}{\ln 2}-1$. 所以 $a$ 的最大值为 $\frac{1}{\ln 2}-1$.

1. 已知函数 $f(x)=x^{n}(1-x)(x>0)$ 且 $n$ 为正整数. 求证: $f(x)<\frac{1}{n \mathrm{e}}$.
- 解析
证明: $f(x)=x^{n}(1-x)(x>0)$,
则 $f^{\prime}(x)=n x^{n-1}(1-x)-x^{n}=x^{n-1}[n-(n+1) x]$.
令 $f^{\prime}(x)=0$, 得 $x=\frac{n}{n+1}$,
所以 $x \in\left(0, \frac{n}{n+1}\right)$ 时, $f^{\prime}(x)>0, f(x)$ 单调递增;
$x \in\left(\frac{n}{n+1},+\infty\right)$ 时, $f^{\prime}(x)<0, f(x)$ 单调递減.
所以 $f(x) \leqslant f\left(\frac{n}{n+1}\right)=\left(\frac{n}{n+1}\right)^{n} \cdot \frac{1}{n+1}<\frac{1}{n \mathrm{e}}$.
要证此式, 只需证: $\left(\frac{n}{n+1}\right)^{n+1}<\frac{1}{\mathrm{e}}$.
两边同取以 $\mathrm{e}$ 为底的对数,
$$
\text { 得 }(n+1) \cdot \ln \frac{n}{n+1}<-1,
$$
因为 $n+1>0$,
所以 $(n+1) \ln \left(1+\frac{-1}{n+1}\right)<(n+1)\left(\frac{-1}{n+1}\right)=-1 .(\ln x \leqslant x-1 \stackrel{\text { 今 } t=x-1}{\longrightarrow} \ln (t+1) \leqslant t,$,
$t=0$ 时取等号 $)$

2. 设 $x>1$, 证明: $\frac{1}{\mathrm{e}}-\left(1-\frac{1}{x}\right)^{x}<\frac{1}{\mathrm{e} x}$.
- 解析
证明: $\frac{1}{\mathrm{e}}-\left(1-\frac{1}{x}\right)^{x}<\frac{1}{\mathrm{e} x}$ 等价于 $\frac{1}{\mathrm{e}}\left(1-\frac{1}{x}\right)<\left(1-\frac{1}{x}\right)^{x}$,
即 $\frac{1}{\mathrm{e}}<\left(1-\frac{1}{x}\right)^{x-1}$.
两边取对数得 $-1<(x-1) \ln \left(1-\frac{1}{x}\right)$,
则 $\ln \left(1-\frac{1}{x}\right)>\frac{-1}{x-1}$.
令 $1-\frac{1}{x}=t \in(0,1)$, 转化为证: $t \in(0,1), \ln t>1-\frac{1}{t}$ 恒成立.
即证 $\ln t-1+\frac{1}{t}>0$ 在 $(0,1)$ 上恒成立,
令 $g(t)=\ln t-1+\frac{1}{t}, t \in(0,1)$.
则 $g^{\prime}(t)=\frac{1}{t}-\frac{1}{t^{2}}=\frac{t-1}{t^{2}}<0$,
所以 $g(t)$ 在 $(0,1)$ 上单调递减, $g(t){ }_{\min }>g(1)=0$,
所以 $\ln t-1+\frac{1}{t}>0$ 在 $(0,1)$ 上恒成立, 所以原命题得证.

### 第 03 讲 端点效应
知识纵横

1. 端点分析的原理
端点分析是常见的含参函数的处理技巧, 以 1 个典型的恒成立问题为例: 已知含参可导函 数 $f(x)$ 对任意 $x \in D$, 都有 $f(x, a) \geqslant 0$ 恒成立.
(1) 若 $D$ 是形如 $(m,+\infty)$ 的开区间, 那么就有 $\left\{\begin{array}{l}\lim _{x \rightarrow m} f(x) \geqslant 0, \\ \lim _{x \rightarrow \infty} f(x) \geqslant 0,\end{array}\right.$ 这种得到命题成立的必要条 件的作法称为第 I 类端点分析;
常考形式: 如果 $f(m, a)$, 则由 $f^{\prime}(m, a) \geqslant 0$ 得到必要条件, 再证明必要条件是充分条件 (寻找矛盾区间).
(2) 若 $D$ 是形如 $[m, n]$ 的闭区间, 那么我们有 $\left\{\begin{array}{l}f(m) \geqslant 0, \\ f(n) \geqslant 0,\end{array}\right.$ 这样我们就得到了参数的一个大 致范围, 即命题成立的必要条件, 这种作法称为第 II 类端点分析.
常考形式:
如果 $f(m, a)=0$, 则由 $f^{\prime}(m, a) \geqslant 0$ 得到必要条件,再证明必要条件是充分条件(矛盾区间); 如果 $f(n, a)=0$, 则由 $f^{\prime}(n, a) \leqslant 0$ 得到必要条件,再证明必要条件是充分条件(矛盾区间).
(3) 有时命题并不一定是上述的特殊形式(下一讲隐极值点代换), 但是自变量取边界值和 某些特殊值时, 不等式都成立, 由此可以得到一些关于参数的不等式, 缩小参数的范围, 有效地减少讨论. 端点情况出发, 去揭示通过一些必要条件缩小参数范围、确定讨论的 分界点这种方法的威力. 为了简便, 本讲选择的例题中, 缩小后的参数范围就恰好是所 求的范围, 虽然这看上去很巧, 但事实上, 在大部分这类问题中, 我们遇到的情况都是 如此.

2. 会利用端点分析技巧基本步骤处理复杂的存在性及恒成立问题（看例题解析）.
典例剖析
【题型 1 第 I 类端点分析】
【例 11】已知函数 $f(x)=\mathrm{e}^{2 x}-a x$.
(1) 讨论 $f(x)$ 的单调性;
(2) 当 $x>0$ 时, $f(x)>a x^{2}+1$, 求 $a$ 的取值范围.

- 解析
(1) $f(x)=\mathrm{e}^{2 x}-a x, f^{\prime}(x)=2 \mathrm{c}^{2 x}-a$,
(1) 当 $a \leqslant 0$ 时, $f^{\prime}(x)>0, f(x)$ 在 $\mathbf{R}$ 上单调递增;
(2)当 $a>0$ 时, 今 $f^{\prime}(x)=0$, 解得 $x=\frac{1}{2} \ln \frac{a}{2}$,
所以当 $x \in\left(-\infty, \frac{1}{2} \ln \frac{a}{2}\right)$ 时, $f^{\prime}(x)<0, f(x)$ 在 $\left(-\infty, \frac{1}{2} \ln \frac{a}{2}\right)$ 上单调递减;
当 $x \in\left(\frac{1}{2} \ln \frac{a}{2},+\infty\right)$ 时, $f^{\prime}(x)>0, f(x)$ 在 $\left(\frac{1}{2} \ln \frac{a}{2},+\infty\right)$ 上单调递增.
综上所述,
当 $a \leqslant 0$ 时, $f(x)$ 的单调递增区间为 $\mathbf{R}$;
当 $a>0$ 时, $f(x)$ 的单调递减区间为 $\left(-\infty, \frac{1}{2} \ln \frac{a}{2}\right)$, 单调递增区间为 $\left(\frac{1}{2} \ln \frac{a}{2},+\infty\right)$.
(2) $f(x)=\mathrm{e}^{2 x}-a x>a x^{2}+1$ 变形为 $\mathrm{e}^{2 x}-a x^{2}-a x-1>0$.
设 $g(x)=\mathrm{e}^{2 x}-a x^{2}-a x-1, g(0)=0$,
$g^{\prime}(x)=2 \mathrm{e}^{2 x}-2 a x-a, g^{\prime}(0)=2-a$,
处理方案一
$g^{\prime \prime}(x)=4 \mathrm{e}^{2 x}-2 a=2\left(2 \mathrm{e}^{2 x}-a\right), g^{\prime \prime}(x)$ 在 $(0,+\infty)$ 上单调递增,
当 $x>0$ 时, $\mathrm{e}^{2 x} \in(1,+\infty), g^{\prime \prime}(x) \in(4-2 a,+\infty)$.
情形一 (端点效应)
当 $4-2 a \geqslant 0$ 时, 即 $a \leqslant 2$,

当 $x \in(0,+\infty)$ 时, $g^{\prime \prime}(x)>0, g^{\prime}(x)$ 为增函数, $g^{\prime}(x)>g^{\prime}(0) \geqslant 0, g(x)$ 在 $(0,+\infty)$ 上单 调递增,
所以 $g(x)>g(0)=0$ 成立, 原不等式成立;
情形二（矛盾区间）
当 $4-2 a<0$, 即 $a>2$ 时,
令 $g^{\prime \prime}(x)=2\left(2 \mathrm{e}^{2 x}-a\right)=0$, 解得 $x=\frac{1}{2} \ln \frac{a}{2}$,
当 $x \in\left(0, \frac{1}{2}\right.$ 单调递减,
所以 $g(x)<g(0)=0$ 与已知矛盾.
综上所述, $a$ 的取值范围是 $a \leqslant 2$.
处理方案二 (分离参数)
令 $g^{\prime}(x)=0$, 可得 $a=\frac{2 \mathrm{e}^{2 x}}{2 x+1}$.
设 $h(x)=\frac{2 \mathrm{e}^{2 x}}{2 x+1}$, 则 $h^{\prime}(x)=\frac{8 x \mathrm{e}^{2 x}}{(2 x+1)^{2}}$.
当 $x>0$ 时, $h^{\prime}(x)>0, h(x)$ 在 $(0,+\infty)$ 上单调递增,
$\therefore h(x)$ 的值域是 $(2,+\infty)$.

处理方案二 (分离参数)
令 $g^{\prime}(x)=0$, 可得 $a=\frac{2 \mathrm{e}^{2 x}}{2 x+1}$.
设 $h(x)=\frac{2 \mathrm{e}^{2 x}}{2 x+1}$, 则 $h^{\prime}(x)=\frac{8 x \mathrm{e}^{2 x}}{(2 x+1)^{2}}$.
当 $x>0$ 时, $h^{\prime}(x)>0, h(x)$ 在 $(0,+\infty)$ 上单调递增,
$\therefore h(x)$ 的值域是 $(2,+\infty)$.
当 $a \leqslant 2$ 时, $g^{\prime}(x)=0$ 没有实根, $g^{\prime}(x)>0$,
$g(x)$ 在 $(0,+\infty)$ 上单调递增, $g(x)>g(0)=0$, 符合题意.
当 $a>2$ 时, $h(0)=2<a$,
所以 $h(x)=\frac{2 \mathrm{e}^{2 x}}{2 x+1}=a$ 有唯一实根 $x_{0}$,
即 $g^{\prime}(x)=0$ 有唯一实根 $x_{0}$,
所以当 $x \in\left(0, x_{0}\right)$ 时, $g^{\prime}(x)<0, g(x)$ 在 $\left(0, x_{0}\right)$ 上单调递减, $g(x)<g(0)=0$, 不符合
题意.
综上所述, $a$ 的取值范围是 $a \leqslant 2$.

【例 12】若对任意的 $x \in[0,+\infty)$, 不等式 $(x+1) \ln (x+1)-\frac{1}{2} a x^{2}-a x \leqslant 0$ 恒成立,求实数 $a$ 的取值范围.
- 解析
$$
\begin{aligned}
&\text { 令 } g(x)=(x+1) \ln (x+1)-\frac{1}{2} a x^{2}-a x, g(0)=0, \\
&g^{\prime}(x)=\ln (x+1)+1-a x-a, g^{\prime}(0)=1-a, g^{\prime \prime}(x)=\frac{1}{x+1}-a . \\
&\text { 方法一 }: g^{\prime \prime}(x)=\frac{1}{x+1}-a \text { 为减函数, 且 } \frac{1}{x+1} \in(0,1], g^{\prime \prime}(x) \in(-a, 1-a] .
\end{aligned}
$$
(1) 当 $1-a \leqslant 0$ 时, 即 $a \geqslant 1$, 在 $x \in[0,+\infty)$ 上, $g^{\prime \prime}(x) \leqslant 0, g^{\prime}(x)$ 为减函数, 则 $g^{\prime}(x) \leqslant$ $g^{\prime}(0)=1-a \leqslant 0$, 故 $g(x)$ 为减函数, $g(x) \leqslant g(0)=0$, 符合题意;
(2) 当 $-a \geqslant 0$ 时, 即 $a \leqslant 0$, 在 $x \in[0,+\infty)$ 上, $g^{\prime \prime}(x) \geqslant 0, g^{\prime}(x)$ 为增函数, 则 $g^{\prime}(x) \geqslant$ $g^{\prime}(0)=1-a>0$, 故 $g(x)$ 为增函数, $g(x) \geqslant g(0)=0$, 不符合题意;
(3) 当 $0<a<1$ 时, 令 $g^{\prime \prime}(x)=\frac{1}{x+1}-a=0$, 解得 $x=\frac{1}{a}-1$.
所以在 $x \in\left(0, \frac{1}{a}-1\right)$ 上, $g^{\prime \prime}(x)>0, g^{\prime}(x)$ 为增函数, 则 $g^{\prime}(x) \geqslant g^{\prime}(0)=1-a>0$, 故 $g(x)$ 为增函数, $g(x) \geqslant g(0)=0$, 不符合题意.
综上所述 , $a \geqslant 1$.
方法二 $: g^{\prime \prime}(x)=\frac{1}{x+1}-a=\frac{-a x-a+1}{x+1}$ (目标函数为 $-a x-a+1$ 一次型).
设 $h(x)=-a x-a+1$.

判断导数根:
(1) 当 $-a \geqslant 0$, 即 $a \leqslant 0$ 时, 在 $x \in[0,+\infty)$ 上, $g^{\prime \prime}(x) \geqslant 0, g^{\prime}(x)$ 为增函数, 则 $g^{\prime}(x) \geqslant$ $g^{\prime}(0)=1-a>0$, 故 $g(x)$ 为增函数, $g(x) \geqslant g(0)=0$, 不符合题意;
(2) 当 $a>0$ 时, 令 $g^{\prime \prime}(x)=0$, 解得 $x=\frac{1}{a}-1$.
导数根划分定义域:
情形一 当 $\frac{1}{a}-1 \leqslant 0$, 即 $a \geqslant 1$ 时, 在 $x \in[0,+\infty)$ 上, $g^{\prime \prime}(x) \leqslant 0, g^{\prime}(x)$ 为减函数, 则 $g^{\prime}(x) \leqslant g^{\prime}(0)=1-a \leqslant 0$, 故 $g(x)$ 为减函数, $g(x) \leqslant g(0)=0$, 符合题意;
情形二 当 $\frac{1}{a}-1>0$, 即 $0<a<1$ 时, 在 $x \in\left(0, \frac{1}{a}-1\right)$ 上, $g^{\prime \prime}(x)>0, g^{\prime}(x)$ 为增函数, 则 $g^{\prime}(x) \geqslant g^{\prime}(0)=1-a>0$, 故 $g(x)$ 为增函数, $g(x) \geqslant g(0)=0$, 不符合题意.
综上所述, $a \geqslant 1$.

【例 13】（2015 - 高赏山东卷) 设函数 $f(x)=\ln (x+1)+a\left(x^{2}-x\right)$, 其中 $a \in \mathbf{R}$.
(1) 讨论函数 $f(x)$ 极值点的个数, 并说明理由;
(2) 若 $\forall x>0, f(x) \geqslant 0$ 成立, 求 $a$ 的取值范围.
(1) 由题意知, 函数 $f(x)$ 的定义域为 $(-1,+\infty)$,
$$
f^{\prime}(x)=\frac{1}{x+1}+a(2 x-1)=\frac{2 a x^{2}+a x-a+1}{x+1} .
$$
令 $g(x)=2 a x^{2}+a x-a+1, x \in(-1,+\infty)$.
(1)当 $a=0$ 时, $g(x)=1>0$,
此时 $f^{\prime}(x)>0$, 函数 $f(x)$ 在 $(-1,+\infty)$ 上单调递增, 无极值点;
(2) 当 $a>0$ 时, $\Delta=a^{2}-8 a(1-a)=a(9 a-8)$.
(i) 当 $0<a \leqslant \frac{8}{9}$ 时, $\Delta \leqslant 0$,
$g(x) \geqslant 0, f^{\prime}(x) \geqslant 0$, 函数 $f(x)$ 在 $(-1,+\infty)$ 上单调递增, 无极值,点;

(ii) 当 $a>\frac{8}{9}$ 时, $\Delta>0$,
设方程 $2 a x^{2}+a x-a+1=0$ 的两根为 $x_{1}, x_{2}\left(x_{1}<x_{2}\right)$.
对称轴为 $x=-\frac{1}{4}$, 又因为 $\left\{\begin{array}{l}g(-1)=1>0, \\ g\left(\frac{1}{2}\right)=1>0,\end{array}\right.$
所以 $-1<x_{1}<-\frac{1}{4}<x_{2}<\frac{1}{2}$.

所以, 当 $x \in\left(-1, x_{1}\right)$ 时, $g(x)>0, f^{\prime}(x)>0$, 函数 $f(x)$ 单调递增;
当 $x \in\left(x_{1}, x_{2}\right)$ 时, $g(x)<0, f^{\prime}(x)<0$, 函数 $f(x)$ 单调递减;
当 $x \in\left(x_{2},+\infty\right)$ 时, $g(x)>0, f^{\prime}(x)>0$, 函数 $f(x)$ 单调递增.
因此, 函数有两个极值,点.
(3)当 $a<0$ 时, $\Delta>0$.
由 $g(-1)=1>0$, 可得 $x_{1}<-1$.
当 $x \in\left(-1, x_{2}\right)$ 时, $g(x)>0, f^{\prime}(x)>0$, 函数 $f(x)$ 单调递增;
当 $x \in\left(x_{2},+\infty\right)$ 时, $g(x)<0, f^{\prime}(x)<0$, 函数 $f(x)$ 单调递减.
所以函数 $f(x)$ 有一个极值点.
综上所述,

当 $a<0$ 时, 函数 $f(x)$ 有一个极值,点;
当 $0 \leqslant a \leqslant \frac{8}{9}$ 时, 函数 $f(x)$ 无极值,点;
当 $a>\frac{8}{9}$ 时, 函数 $f(x)$ 有两个极值,点.
(2) 由 (1) 知,
(1)当 $0 \leqslant a \leqslant \frac{8}{9}$ 时, 函数 $f(x)$ 在 $(0,+\infty)$ 上单调递增,
因为 $f(0)=0$, 所以 $x \in(0,+\infty)$ 时, $f(x)>0$, 符合题意.

(2) 当 $\frac{8}{9}<a \leqslant 1$ 时, 由 $g(0) \geqslant 0$, 得 $x_{2} \leqslant 0$,
所以函数 $f(x)$ 在 $(0,+\infty)$ 上单调递增.
$$
\text { 又 } f(0)=0,
$$
所以 $x \in(0,+\infty)$ 时, $f(x)>0$, 符合题意.
(3)当 $a>1$ 时, 由 $g(0)<0$, 可得 $x_{2}>0$.
所以 $x \in\left(0, x_{2}\right)$ 时, 函数 $f(x)$ 单调递减.
因为 $f(0)=0$, 所以 $x \in\left(0, x_{2}\right)$ 时, $f(x)<0$, 不合题意.
(4) 当 $a<0$ 时, 设 $h(x)=x-\ln (x+1)$.
因为 $x \in(0,+\infty)$ 时, $h^{\prime}(x)=1-\frac{1}{x+1}=\frac{x}{x+1}>0$,
所以 $h(x)$ 在 $(0,+\infty)$ 上单调递增.
因此, 当 $x \in(0,+\infty)$ 时, $h(x)>h(0)=0$,
即 $\ln (x+1)<x$.
可得 $f(x)<x+a\left(x^{2}-x\right)=a x^{2}+(1-a) x$,
当 $x>1-\frac{1}{a}$ 时, $a x^{2}+(1-a) x<0$,
此时 $f(x)<0$, 不符合题意.
综上所述, $a$ 的取值范围是 $[0,1]$.

【例 14】(2017 - 全国二模) 已知函数 $f(x)=\sin x$.
(1) 当 $x>0$ 时, 证明: $f^{\prime}(x)>1-\frac{x^{2}}{2}$;
(2) 若当 $x \in\left(0, \frac{\pi}{2}\right)$ 时, $f(x)+\frac{f(x)}{f^{\prime}(x)}>a x$ 恒成立, 求实数 $a$ 的取值范围.
- 解析
(1) 证明: $f(x)=\sin x$, 则 $f^{\prime}(x)=\cos x$,
设 $g(x)=f^{\prime}(x)+\frac{x^{2}}{2}-1=\cos x+\frac{x^{2}}{2}-1, g(0)=0$,
则 $g^{\prime}(x)=-\sin x+x>0$ (证略), $g(x)$ 在 $(0,+\infty)$ 为增函数, 故 $g(x)>g(0)=0$.
所以, 当 $x>0$ 时, $f^{\prime}(x)>1-\frac{x^{2}}{2}$.
(2) 当 $x \in\left(0, \frac{\pi}{2}\right)$ 时, $f(x)+\frac{f(x)}{f^{\prime}(x)}>a x$ 恒成立, 等价于 $\sin x+\tan x-a x>0$ 恒成立,
设 $h(x)=\sin x+\tan x-a x, h(0)=0$,
则 $h^{\prime}(x)=\cos x+\frac{1}{\cos ^{2} x}-a, x \in\left(0, \frac{\pi}{2}\right)$,
令 $t=\cos x \in(0,1)$,
设 $\varphi(t)=t+\frac{1}{t^{2}}$, 则 $\varphi^{\prime}(t)=1-\frac{2}{t^{3}}<0$,
所以 $\varphi(t)$ 在 $(0,1)$ 上是减函数, $\varphi(t)>\varphi(1)=2$, 即 $\varphi(t) \in(2,+\infty)$,

所以 $h^{\prime}(x) \in(2-a,+\infty)$
当 $2-a \geqslant 0$, 即 $a \leqslant 2$ 时, $h^{\prime}(x)>h^{\prime}(0)=2-a \geqslant 0, h(x)$ 在 $x \in\left(0, \frac{\pi}{2}\right)$ 上为增函数,
故 $h(x)>h(0)=0$, 符合题意;
当 $2-a<0$ 时, 即 $a>2$,
$h^{\prime}(x)=\cos x+\frac{1}{\cos ^{2} x}-a>\frac{1}{\cos ^{2} x}-a=0$, 存在唯一 $x_{1}$ 有 $\cos x_{1}=\sqrt{\frac{1}{a}}$, 得 $h^{\prime}\left(x_{1}\right)>0$.
所以存在唯一 $x_{0} \in\left(0, x_{1}\right)$, 使得 $h^{\prime}\left(x_{0}\right)=0$.
所以 $x \in\left(0, x_{0}\right), h^{\prime}(x)<0, h(x)$ 在 $x \in\left(0, x_{0}\right)$ 上为减函数, $h(x)<h(0)=0$, 与条件 予盾.

综上所述, $a$ 的取值范围为 $(-\infty, 2]$.

【题型 2 第 II 类端点分析】
【例 15】已知 $x>0$ 时, $\mathrm{e}^{x}+a \ln (1-x)-1<0$ 恒成立, 求实数 $a$ 的取值范围.
- 解析
设 $f(x)=\mathrm{e}^{x}+a \ln (1-x)-1<0, x \in(0,1)$, 且 $f(0)=0$, 问题转化为证 $f(x)<f(0)$.
$f^{\prime}(x)=\mathrm{e}^{x}-\frac{a}{1-x}=\frac{(1-x) \cdot \mathrm{e}^{x}-a}{1-x}\left(\right.$ 目标函数为 $\left.(1-x) \cdot \mathrm{e}^{x}-a\right)$
设 $h(x)=(1-x) \cdot \mathrm{e}^{x}-a$, 则 $h^{\prime}(x)=(-x) \cdot \mathrm{e}^{x}<0, h(x)$ 在 $x \in(0,1)$ 上为减函数,
所以 $h(x) \in(h(1), h(0))=(-a, 1-a)$,
当 $1-a \leqslant 0$, 即 $a \geqslant 1$ 时, $h(x)<0, f^{\prime}(x)<0, f(x)$ 在 $x \in(0,1)$ 上为减函数,
所以 $f(x)<f(0)=0$, 符合题意;
当 $-a \geqslant 0$, 即 $a \leqslant 0$ 时, $h(x)>0, f^{\prime}(x)>0, f(x)$ 在 $x \in(0,1)$ 上为增函数,
所以 $f(x)>f(0)=0$, 不符合题意;
当 $0<a<1$ 时， $\left\{\begin{array}{l}h(0)=1-a>0, \\ h(1)=-a<0,\end{array}\right.$
所以存在唯一 $x_{0} \in(0,1)$, 使得 $h\left(x_{0}\right)=0$,
所以, 当 $x \in\left(0, x_{0}\right)$ 时, $h(x)>0, f^{\prime}(x)>0, f(x)$ 为增函数, $f(x)>f(0)=0$, 不符合题意.
综上所述, $a$ 的取值范围为 $[1,+\infty)$.

【例 16】已知函数 $f(x)=\frac{\sin x}{2+\cos x}$.
(1) 求 $f(x)$ 的单调区间;
(2) 如果对任意 $x \geqslant 0$, 都有 $f(x) \leqslant a x$, 求 $a$ 的取值范围.
- 角㭌析
(1) $f^{\prime}(x)=\frac{(2+\cos x) \cos x-\sin x(-\sin x)}{(2+\cos x)^{2}}=\frac{2 \cos x+1}{(2+\cos x)^{2}}$.
当 $\cos x>-\frac{1}{2}$, 即 $2 k \pi-\frac{2 \pi}{3}<x<2 k \pi+\frac{2 \pi}{3}(k \in \mathbf{Z})$ 时, $f^{\prime}(x)>0$;
当 $\cos x<-\frac{1}{2}$, 即 $2 k \pi+\frac{2 \pi}{3}<x<2 k \pi+\frac{4 \pi}{3}(k \in \mathbf{Z})$ 时, $f^{\prime}(x)<0$.
因此 $f(x)$ 在区间 $\left(2 k \pi-\frac{2 \pi}{3}, 2 k \pi+\frac{2 \pi}{3}\right)(k \in \mathbf{Z})$ 上是增函数，
$f(x)$ 在区间 $\left(2 k \pi+\frac{2 \pi}{3}, 2 k \pi+\frac{4 \pi}{3}\right)(k \in \mathbf{Z})$ 上是减函数.
(2) 对任意 $x \geqslant 0$, 都有 $f(x) \leqslant a x$, 等价于 $a x-f(x) \geqslant 0$.
令 $g(x)=a x-f(x) \geqslant 0$, 且 $g(0)=0$.
则 $g^{\prime}(x)=a-\frac{2 \cos x+1}{(2+\cos x)^{2}}=a+\frac{3}{(2+\cos x)^{2}}-\frac{2}{2+\cos x}$.
令 $t=\frac{1}{2+\cos x} \in\left[\frac{1}{3}, 1\right]$, 记 $u=3 t^{2}-2 t \in\left[-\frac{1}{3}, 1\right]$,

故 $g^{\prime}(x) \in\left[a-\frac{1}{3}, a+1\right]$.
当 $a-\frac{1}{3} \geqslant 0$, 即 $a \geqslant \frac{1}{3}$ 时, $g^{\prime}(x) \geqslant 0, g(x)$ 在 $x \in[0,+\infty)$ 上为增函数,
$$
\text { 又 } g(0)=0,
$$
所以当 $x \geqslant 0$ 时, $g(x) \geqslant g(0)=0$ 成立,
即对任意 $x \geqslant 0$, 都有 $f(x) \leqslant a x$;
当 $a+1 \leqslant 0$, 即 $a \leqslant-1$ 时, $g^{\prime}(x) \leqslant 0, g(x)$ 在 $x \in[0,+\infty)$ 上为减函数.
$$
\text { 又 } g(0)=0 \text {, }
$$
所以当 $x \geqslant 0$ 时, $g(x) \leqslant g(0)=0$ 与已知矛盾;

所以当 $x \geqslant 0$ 时, $g(x) \geqslant g(0)=0$ 成立,
即对任意 $x \geqslant 0$, 都有 $f(x) \leqslant a x$;
当 $a+1 \leqslant 0$, 即 $a \leqslant-1$ 时, $g^{\prime}(x) \leqslant 0, g(x)$ 在 $x \in[0,+\infty)$ 上为减函数.
$$
\text { 又 } g(0)=0
$$
所以当 $x \geqslant 0$ 时, $g(x) \leqslant g(0)=0$ 与已知矛盾;
当 $-1<a<\frac{1}{3}$ 时, $x \in(0, \pi)$, 为 $\cos x$ 的一个单调减区间, $t=\frac{1}{2+\cos x}$ 在 $x \in(0, \pi)$ 上为增
函数,
又 $u=3 t^{2}-2 t$ 在 $t \in\left[\frac{1}{3}, 1\right]$ 上为增函数,
所以 $g^{\prime}(x)$ 在 $x \in(0, \pi)$ 上为增函数, 且 $\left\{\begin{array}{l}g^{\prime}(0)=a-\frac{1}{3}<0, \\ g^{\prime}(\pi)=a+1>0,\end{array}\right.$
所以存在唯一 $x_{0} \in(0, \pi)$ 使得 $g^{\prime}\left(x_{0}\right)=0$,
所认, 当 $x \in\left(0, x_{0}\right)$ 时, $g^{\prime}(x) \leqslant 0, g(x)$ 在 $x \in\left(0, x_{0}\right)$ 上为减函数,
$$
\text { 又 } g(0)=0,
$$
所以当 $x \in\left(0, x_{0}\right)$ 时, $g(x) \leqslant g(0)=0$ 与已知矛盾,
综上所述, $a$ 的取值范围是 $\left[\frac{1}{3},+\infty\right)$.

【题型 3 有效点探路】
【例 17】已知函数 $f(x)=\ln a x+b x$ 在点 $(1, f(1))$ 处的切线是 $y=0$.
(1) 求函数 $f(x)$ 的极值;
(2) 当 $\frac{m x^{2}}{\mathrm{e}^{x}} \geqslant f(x)+\frac{1-\mathrm{e}}{\mathrm{e}} x(m<0)$ 恒成立时, 求实数 $m$ 的取值范围.
- 解析
(1) $f(x)=\ln a x+b x$, 则 $f^{\prime}(x)=\frac{1}{x}+b$,
由题意可知, $f(1)=\ln a+b=0$, 且 $f^{\prime}(1)=1+b=0$, 解得 $\left\{\begin{array}{l}b=-1, \\ a=\mathrm{e},\end{array}\right.$
所以 $f(x)=\ln \mathrm{e} x-x, f^{\prime}(x)=\frac{1}{x}-1$, 令 $f^{\prime}(x)=\frac{1}{x}-1=0$, 解得 $x=1$.
所以, 当 $x \in(0,1)$ 时, $f^{\prime}(x)>0, f(x)$ 在 $x \in(0,1)$ 上单调递增;
当 $x \in(1,+\infty)$ 时, $f^{\prime}(x)<0, f(x)$ 在 $x \in(1,+\infty)$ 上单调递减.
所以当 $x=1$ 时, $f(x)$ 取得极大值 0 , 无极小值.
(2) 必要性探路: 令 $x=1$, 得 $1-\mathrm{e} \leqslant m<0$;
充分性证明:
由 (1) 可知 $f(x) \leqslant 0$, 故证 $\frac{m x^{2}}{\mathrm{e}^{x}} \geqslant f(x)+\frac{1-\mathrm{e}}{\mathrm{e}} x(m<0)$ 恒成立, 需证 $\frac{m x}{\mathrm{e}^{x}} \geqslant \frac{1-\mathrm{e}}{\mathrm{e}}(m<0)$,

所以当 $1-\mathrm{e} \leqslant m<0$ 时, $\frac{m x}{\mathrm{e}^{x}}-\frac{1-\mathrm{e}}{\mathrm{e}} \geqslant \frac{m x}{\mathrm{e} x}-\frac{1-\mathrm{e}}{\mathrm{e}}=\frac{m-(1-\mathrm{e})}{\mathrm{e}} \geqslant 0$ (证 $\mathrm{e}^{x} \geqslant \mathrm{e} x$ 略).
另证: 当 $1-\mathrm{e} \leqslant m<0$ 时,
$$
\begin{aligned}
&\frac{m x^{2}}{\mathrm{e}^{x}}-\ln \mathrm{e} x+x-\frac{1-\mathrm{e}}{\mathrm{e}} x=\frac{m x^{2}}{\mathrm{e}^{x}}-\ln x-1+x-\frac{1-\mathrm{e}}{\mathrm{e}} x \\
&\geqslant \frac{m x^{2}}{\mathrm{e} x}-(x-1)-1+x-\frac{1-\mathrm{e}}{\mathrm{e}} x \\
&=\frac{m x}{\mathrm{e}}-\frac{1-\mathrm{e}}{\mathrm{e}} x \\
&=\frac{x}{\mathrm{e}}(m-(1-\mathrm{c}))>0 .
\end{aligned}
$$
综上所述, $m$ 的取值范围为 $1-\mathrm{e} \leqslant m<0$.

【例 18】已知函数 $f(x)=\sin x+\frac{x^{3}}{6}-m x$.
(1) 若 $f(x)$ 在 $[0,+\infty)$ 上单调递增, 求实数 $m$ 的取值范围;
(2) 若对 $\forall x \in[0,+\infty)$, 不等式 $\sin x-\cos x \leqslant \mathrm{e}^{a x}-2$ 恒成立, 求实数 $a$ 的取值 范围.
- 解析
(1) 由题意得 $f^{\prime}(x)=\cos x+\frac{x^{2}}{2}-m$, 因为 $f(x)$ 在 $[0,+\infty)$ 上单调递增,
所以 $f^{\prime}(x) \geqslant 0$ 对 $\forall x \in[0,+\infty)$ 恒成立.
设 $g(x)=\cos x+\frac{x^{2}}{2}-m$, 则 $g^{\prime}(x)=-\sin x+x \geqslant 0$ (证略),
所以 $g(x)$ 在 $[0,+\infty)$ 上单调递增, 所以 $g(x)_{\min }=g(0)=1-m \geqslant 0$, 解得 $m \leqslant 1$.
故 $m$ 的取值范围是 $(-\infty, 1]$.
(2) 对 $\forall x \in[0,+\infty)$, 不等式 $\sin x-\cos x \leqslant \mathrm{e}^{a x}-2$ 恒成立, 等价于 $\mathrm{e}^{a x}-\sin x+\cos x-$ $2 \geqslant 0$ 恒成立.
设 $h(x)=\mathrm{e}^{a x}-\sin x+\cos x-2, h(0)=0$,
必要性探路: $h\left(\frac{\pi}{2}\right)=\mathrm{e}^{\frac{\pi}{2} a}-3 \geqslant 0$, 得 $a>0$.
则 $h^{\prime}(x)=a \mathrm{e}^{a x}-\cos x-\sin x, h^{\prime}(0)=a-1$,
当 $a \geqslant 1$ 时, $h^{\prime}(x)=a \mathrm{e}^{a x}-\cos x-\sin x \geqslant \mathrm{e}^{x}-\cos x-\sin x \geqslant(1-\cos x)+(x-\sin x) \geqslant 0$,

所以 $h(x)$ 在 $x \in[0,+\infty)$ 上为增函数, $h(x) \geqslant h(0)=0$, 满足题意;
当 $0<a<1$ 时, $h^{\prime \prime}(x)=a^{2} \mathrm{e}^{a x}+\sin x-\cos x$, 在 $\left(0, \frac{\pi}{2}\right)$ 为增函数,
又 $h^{\prime \prime}(0)=a^{2}-1<0, h^{\prime \prime}\left(\frac{\pi}{2}\right)=a^{2} \mathrm{e}^{\frac{\pi}{2} a}+1>0$,
所以存在唯一 $x_{0} \in\left(0, \frac{\pi}{2}\right)$, 使得 $h^{\prime \prime}\left(x_{0}\right)=0$,
所以 $x \in\left(0, x_{0}\right), h^{\prime \prime}(x)<0, h^{\prime}(x)$ 在 $x \in\left(0, x_{0}\right)$ 上为减函数, $h^{\prime}(x)<h^{\prime}(0)=a-1<0$, $h(x)$ 在 $x \in\left(0, x_{0}\right)$ 上为减函数, $h(x)<h(0)=0$, 与条件矛盾.
综上所述, $a$ 的取值范围为 $[1,+\infty)$.

【例 19】已知函数 $f(x)=\ln x, g(x)$ 是 $f(x)$ 的反函数.
(1) 求证: 当 $x \geqslant 0$ 时, $f(x+1) \geqslant-\frac{1}{2} x^{2}+x$;
(2) 若 $g(x)+g(-x) \leqslant 2 g\left(m x^{2}\right)$ 对任意 $x \in \mathbf{R}$ 恒成立, 求实数 $m$ 的取值范围.
- 解析
(1) 设 $h(x)=f(x+1)+\frac{1}{2} x^{2}-x=\ln (x+1)+\frac{1}{2} x^{2}-x$,
则 $h^{\prime}(x)=\frac{1}{x+1}+x-1=\frac{x^{2}}{x+1} \geqslant 0(x \geqslant 0)$,
所以 $h(x)$ 在 $[0,+\infty)$ 上单调递增,
所以 $h(x) \geqslant h(0)=0$, 即当 $x \geqslant 0$ 时, $h(x) \geqslant 0$.
综上所述, 当 $x \geqslant 0$ 时, $f(x+1) \geqslant-\frac{1}{2} x^{2}+x$ 成立.
(2) 因为函数 $f(x)=\ln x, g(x)$ 是 $f(x)$ 的反函数,
所以 $g(x)=\mathrm{e}^{x}$,
则 $g(x)+g(-x) \leqslant 2 g\left(m x^{2}\right)$ 等价于 $\mathrm{e}^{x}+\mathrm{e}^{-x} \leqslant 2 \mathrm{e}^{m x^{2}}$,
即 $2 \mathrm{e}^{m x^{2}}-\mathrm{e}^{x}-\mathrm{e}^{-x} \geqslant 0$.
设 $F(x)=2 \mathrm{e}^{m x^{2}}-\mathrm{e}^{x}-\mathrm{e}^{-x}$, 注意到 $F(x)$ 为偶函数, 问题转化为对 $x \in[0,+\infty), F(x) \geqslant 0$
恒成立.
必要性先行: $F(1)=2 \mathrm{e}^{m}-\mathrm{e}-\frac{1}{\mathrm{e}} \geqslant 0$, 得 $m>0$.
$$
F(x)=2 \mathrm{e}^{m x^{2}}-\mathrm{e}^{x}-\mathrm{e}^{-x}, F(0)=0,
$$
则 $f^{\prime}(x)=4 m x \mathrm{e}^{m x^{2}}-\mathrm{e}^{x}+\mathrm{e}^{-x}, f^{\prime}(0)=0$,
$$
\begin{aligned}
&F^{\prime \prime}(x)=4 m\left(1+2 m x^{2}\right) \mathrm{e}^{m x^{2}}-\mathrm{e}^{x}-\mathrm{e}^{-x}, F^{\prime \prime}(0)=4 m-2, \\
&\text { 又 } 4 m\left(1+2 m x^{2}\right) \mathrm{e}^{m x^{2}} \text { 在 } x \in[0,+\infty) \text { 上为增函数, 且 } \mathrm{e}^{x}+\mathrm{e}^{-x} \geqslant 2 \text {, 故 } \\
&\text { 当 } 4 m-2 \geqslant 0 \text {, 即 } m \geqslant \frac{1}{2} \text { 时, } \\
&F^{\prime \prime}(x)>0, f^{\prime}(x) \text { 在 } x \in[0,+\infty) \text { 上为增函数, } \\
&\text { 故 } f^{\prime}(x) \geqslant f^{\prime}(0)=0, F(x) \text { 在 } x \in[0,+\infty) \text { 上为增函数, } F(x) \geqslant F(0)=0 \text {, 符合题意; } \\
&\text { 当 } 0<m<\frac{1}{2} \text { 时, } F^{\prime \prime}(0)<0 \text {, 又 } x \rightarrow+\infty \text { 时, } F(x) \rightarrow+\infty .
\end{aligned}
$$
$F^{\prime \prime}(x)=4 m\left(1+2 m x^{2}\right) \mathrm{e}^{m x^{2}}-\mathrm{e}^{x}-\mathrm{e}^{-x}, F^{\prime \prime}(0)=4 m-2$, 又 $4 m\left(1+2 m x^{2}\right) \mathrm{e}^{m x^{2}}$ 在 $x \in[0,+\infty)$ 上为增函数, 且 $\mathrm{e}^{x}+\mathrm{e}^{-x} \geqslant 2$, 故 当 $4 m-2 \geqslant 0$, 即 $m \geqslant \frac{1}{2}$ 时, $F^{\prime \prime}(x)>0, f^{\prime}(x)$ 在 $x \in[0,+\infty)$ 上为增函数, 故 $f^{\prime}(x) \geqslant f^{\prime}(0)=0, F(x)$ 在 $x \in[0,+\infty)$ 上为增函数, $F(x) \geqslant F(0)=0$, 符合题意; 当 $0<m<\frac{1}{2}$ 时, $F^{\prime \prime}(0)<0$, 又 $x \rightarrow+\infty$ 时, $F(x) \rightarrow+\infty .$ 下面运用零点存在定理估值: $F^{\prime \prime}\left(\frac{1}{m}\right)=4 m\left(1+2 m\left(\frac{1}{m}\right)^{2}\right) \mathrm{e}^{m\left(\frac{1}{m}\right)^{2}}-\mathrm{e}^{\frac{1}{m}}-\mathrm{e}^{-\frac{1}{m}}>0\left(\right.$ 找点 $F^{\prime \prime}(x)=4 m\left(1+2 m x^{2}\right) \mathrm{e}^{m x^{2}}-$
$\mathrm{e}^{x}-\mathrm{e}^{-x}>8 m^{2} x^{2} \mathrm{e}^{m x^{2}}-\mathrm{e}^{x}-1>0$, 则 $m x^{2}=x$, 得 $\left.x=\frac{1}{m}\right)$,
所以至少存在一个 $x_{n} \in\left(0, \frac{1}{m}\right)$, 使得 $F^{\prime \prime}\left(x_{n}\right)=0$,
记离 0 最近的零,点为 $x_{0}$, 则
$x \in\left(0, x_{0}\right), F^{\prime \prime}(x)<0, f^{\prime}(x)$ 在 $x \in\left(0, x_{0}\right)$ 上为减函数, 故 $f^{\prime}(x)<f^{\prime}(0)=0, F(x)$ 在 $x \in\left(0, x_{0}\right)$ 上为减函数, $F(x)<F(0)=0$, 不符合题意.
综上所述, 实数 $m$ 的取值范围为 $\left[\frac{1}{2},+\infty\right)$.



###  第 04 讲 隐极值点代换
知识纵横
1. 导数解决函数综合性问题最终都会归于函数单调性的判断, 而函数的单调性与其导函数的
零点有着紧密的联系, 可以说导函数零点的判断、数值上的精确求解或估计是导数综合应
用中最核心的问题. 导函数的零点, 根据其数值计算上的差异, 可以分为两类: 一是数值
上能精确求解的, 不妨称为 “显零点” ; 另一类是能够判断其存在但无法直接表示的, 不
妨称为 “隐零点”. 对于隐零点问题, 由于涉及灵活的代数变形技巧、抽象缜密的逻辑判
断和巧妙的不等式应用, 对学生综合能力的要求比较高, 往往成为考查的难点.
2. 隐零点题型:
(1) 隐零点的存在判断;
(2) 隐零点的虚设和代换;
(3) 隐零点的数值估计.
3. 隐零点代换的基本步骤

【题型 1 隐极值点代换】
【例 20】隐极值点代换之降次
(2012 - 高尚大纲全国卷) 已知函数 $f(x)=\frac{1}{3} x^{3}+x^{2}+a x$.
(1) 讨论 $f(x)$ 的单调性;
(2) 设 $f(x)$ 有两个极值点 $x_{1}, x_{2}$, 若过两点 $\left(x_{1}, f\left(x_{1}\right)\right),\left(x_{2}, f\left(x_{2}\right)\right)$ 的直线 $l$ 与 $x$ 轴的交点在曲线 $y=f(x)$ 上, 求 $a$ 的值.
(1) $f^{\prime}(x)=x^{2}+2 x+a, \Delta=4-4 a$.
(1) 当 $\Delta=4-4 a \leqslant 0$, 即 $a \geqslant 1$ 时, $f^{\prime}(x) \geqslant 0, f(x)$ 在 $\mathbf{R}$ 上是增函数;
(2) 当 $a<1$ 时, $f^{\prime}(x)=0$, 有两个根 $x_{1}=-1-\sqrt{1-a}, x_{2}=-1+\sqrt{1-a}$.
当 $x \in(-\infty,-1-\sqrt{1-a})$ 时, $f^{\prime}(x)>0, f(x)$ 是增函数;
当 $x \in(-1-\sqrt{1-a},-1+\sqrt{1-a})$ 时, $f^{\prime}(x)<0, f(x)$ 是减函数;
当 $x \in(-1+\sqrt{1-a},+\infty)$ 时, $f^{\prime}(x)>0, f(x)$ 是增函数.
(2) 由题设知, $x_{1}, x_{2}$ 为方程 $f^{\prime}(x)=0$ 的两个根,

故由 (1) 有 $a<1, x_{1}^{2}=-2 x_{1}-a, x_{2}^{2}=-2 x_{2}-a$.
因此 $f\left(x_{1}\right)=\frac{1}{3} x_{1}^{3}+x_{1}^{2}+a x_{1}=\frac{1}{3} x_{1}\left(-2 x_{1}-a\right)+x_{1}^{2}+a x_{1}$
$$
\begin{aligned}
&=\frac{1}{3} x_{1}^{2}+\frac{2}{3} a x_{1}=\frac{1}{3}\left(-2 x_{1}-a\right)+\frac{2}{3} a x_{1} \\
&=\frac{2}{3}(a-1) x_{1}-\frac{a}{3} .
\end{aligned}
$$

同理, $f\left(x_{2}\right)=\frac{2}{3}(a-1) x_{2}-\frac{a}{3}$.
因此直线 $l$ 的方程为 $y=\frac{2}{3}(a-1) x-\frac{a}{3}$.
设 $l$ 与 $x$ 轴的交点为 $\left(x_{0}, 0\right)$, 将点代入 $l$ 得, $x_{0}=\frac{a}{2(a-1)}$.
因为点 $\left(x_{0}, 0\right)$ 在曲线 $y=f(x)$ 上,

故 $f\left(x_{0}\right)=\frac{1}{3}\left[\frac{a}{2(a-1)}\right]^{3}+\left[\frac{a}{2(a-1)}\right]^{2}+\frac{a^{2}}{2(a-1)}=\frac{a^{2}}{24(a-1)^{3}}\left(12 a^{2}-17 a+6\right)=0$,
解得 $a=0$ 或 $a=\frac{2}{3}$ 或 $a=\frac{3}{4}$.
【例 21】隐极值点代换之幂函数代换指、对函数.
(2012 - 高麦课标全国卷) 设函数 $f(x)=\mathrm{e}^{x}-a x-2$.
(1) 求 $f(x)$ 的单调区间;
(2) 若 $a=1, k$ 为整数, 且当 $x>0$ 时, $(x-k) f^{\prime}(x)+x+1>0$, 求 $k$ 的最大值.
(1) $f(x)$ 的定义域为 $(-\infty,+\infty), f^{\prime}(x)=\mathrm{e}^{x}-a$.
若 $a \leqslant 0$, 则 $f^{\prime}(x)>0$, 所以 $f(x)$ 在 $(-\infty,+\infty)$ 上单调递增.
若 $a>0$, 令 $f^{\prime}(x)=\mathrm{e}^{x}-a=0$, 得 $x=\ln a$.
则当 $x \in(-\infty, \ln a)$ 时, $f^{\prime}(x)<0$; 当 $x \in(\ln a,+\infty)$ 时, $f^{\prime}(x)>0$.
所以, $f(x)$ 在 $(-\infty, \ln a)$ 上单调递减, 在 $(\ln a,+\infty)$ 上单调递增.
综上所述,
当 $a \leqslant 0$ 时, $f(x)$ 的增区间为 $(-\infty,+\infty)$;
当 $a>0$ 时, $f(x)$ 的減区间为 $(-\infty, \ln a)$, 增区间为 $(\ln a,+\infty)$.

(2) 法一(分离参数 $+$ 隐零点估值及代换):
由于 $a=1$, 由 (1) 可得, $(x-k) f^{\prime}(x)+x+1=(x-k)\left(\mathrm{e}^{x}-1\right)+x+1$.
故当 $x>0$ 时, $(x-k) f^{\prime}(x)+x+1>0$ 等价于 $k<\frac{x+1}{\mathrm{e}^{x}-1}+x(x>0)$, (1)
令 $g(x)=\frac{x+1}{\mathrm{e}^{x}-1}+x$, 则 $g^{\prime}(x)=\frac{-x \mathrm{e}^{x}-1}{\left(\mathrm{e}^{x}-1\right)^{2}}+1=\frac{\mathrm{e}^{x}\left(\mathrm{e}^{x}-x-2\right)}{\left(\mathrm{e}^{x}-1\right)^{2}}$.
由 (1) 知, 函数 $h(x)=\mathrm{e}^{x}-x-2$ 在 $(0,+\infty)$ 上单调递增.
而 $h(1)=\mathrm{e}-3<0, h(2)=\mathrm{e}^{2}-4>0$,
所以 $h(x)$ 在 $(0,+\infty)$ 上存在唯一的零,点, 故 $g^{\prime}(x)$ 在 $(0,+\infty)$ 上存在唯一的零,点.
设此零,点为 $x_{0}$, 则 $x_{0} \in(1,2)$.
当 $x \in\left(0, x_{0}\right)$ 时, $g^{\prime}(x)<0, g(x)$ 为减函数; 当 $x \in\left(x_{0},+\infty\right)$ 时, $g^{\prime}(x)>0, g(x)$ 为增函数.
所以 $g(x)$ 在 $(0,+\infty)$ 上的最小值为 $g\left(x_{0}\right)$.
又由 $g^{\prime}\left(x_{0}\right)=0$, 可得 $\mathrm{e}^{x_{0}}=x_{0}+2$,
所以 $g\left(x_{0}\right)=x_{0}+1 \in(2,3)$.
由于@式等价于 $k<g\left(x_{0}\right)$, 故整数 $k$ 的最大值为 2 .
法二 (分类讨论求最值):
由于 $a=1$, 由 (1) 可得, $(x-k) f^{\prime}(x)+x+1=(x-k)\left(\mathrm{e}^{x}-1\right)+x+1$.
故当 $x>0$ 时, $(x-k) f^{\prime}(x)+x+1>0$ 等价于 $h(x)=(x-k)\left(\mathrm{e}^{x}-1\right)+x+1>0$ 恒成立,
即 $h(x)_{\min }>0$.
$$
h^{\prime}(x)=(x-k+1) \mathrm{e}^{x}
$$
当 $-k+1 \geqslant 0$, 即 $k \leqslant 1$ 时, $h^{\prime}(x)>0$ 恒成主, $h(x)$ 在 $(0,+\infty)$ 上单调递增, $h(x)>h(0)=$
$1>0$, 符合题意;

当 $-k+1<0$, 即 $k>1$ 时, 由 $h^{\prime}(x)=(x-k+1) \mathrm{e}^{x}=0$, 得 $x=k-1$,
则当 $x \in(-\infty, k-1)$ 时, $h^{\prime}(x)<0$; 当 $x \in(k-1,+\infty)$ 时, $h^{\prime}(x)>0$.
所以 $h(x)$ 在 $(-\infty, k-1)$ 上单调递減, 在 $(k-1,+\infty)$ 上单调试增.
所以 $h(x)_{\min }=h(k-1)=k+1-\mathrm{e}^{k-1}$.
所以 $h(x)_{\min }>0$ 转化为关于 $k$ 的不等式 $k+1-\mathrm{e}^{k-1}>0$.
设 $\varphi(k)=k+1-\mathrm{e}^{k-1}$, 则 $\varphi^{\prime}(k)=1-\mathrm{e}^{k-1}<0$,
所以 $\varphi(k)$ 在 $(1,+\infty)$ 上单调递减.
且 $\varphi(2)=3-\mathrm{e}>0, \varphi(3)=4-\mathrm{e}^{2}<0$, 又因为 $k \in \mathbf{Z}$, 所以 $k$ 的最大值为 2 .
法三 $\left(\mathrm{e}^{x} \geqslant x+1\right)$ ：
由于 $a=1$, 由 (1) 可得, $(x-k) f^{\prime}(x)+x+1=(x-k)\left(\mathrm{e}^{x}-1\right)+x+1$.
故当 $x>0$ 时, $(x-k) f^{\prime}(x)+x+1>0$ 等价于 $k<\frac{x+1}{\mathrm{e}^{x}-1}+x(x>0)$, (1)
令 $g(x)=\frac{x+1}{\mathrm{e}^{x}-1}+x<\frac{x+1}{x+1-1}+x=1+\frac{1}{x}+x$,
又 $1+\frac{1}{x}+x \geqslant 1+2 \sqrt{\frac{1}{x} \cdot x}=3$ (当且仪当 $x=1$ 时等号成立),
所以 $\frac{x+1}{e^{x}-1}+x<3$,
因为 $k$ 为整数, 所以 $k$ 的最大值为 2 .
法四 (分离函数 $+$ 切线放缩):
由于 $a=1$, 由 (1) 可得, $(x-k) f^{\prime}(x)+x+1=(x-k)\left(\mathrm{e}^{x}-1\right)+x+1$.
故当 $x>0$ 时, $(x-k) f^{\prime}(x)+x+1=(x-k)\left(\mathrm{e}^{x}-1\right)+x+1>0$ 等价于 $x\left(\mathrm{e}^{x}-1\right)+x+1$ $>k\left(\mathrm{e}^{x}-1\right)$
令 $t=\mathrm{e}^{x}, t>1$, 故 $x=\ln t$, 代入上式, 则问题转化为 $t \ln t+1>k(t-1)$.

设 $g(t)=t \ln t+1, h(t)=k(t-1)$.
因为 $g^{\prime}(t)=\ln t+1>0$, 所以 $g(t)$ 在 $(1,+\infty)$ 上为增函数.
问题转化为 $g(t)$ 的图象恒在过点 $(1,0)$ 的直线 $y=k(t-1)$ 的上方, 即临界值为过点 (1,
$0)$ 的 $g(t)$ 的切线的斢率 $k^{\prime} .$
(下面是求过点作曲线切线问题的解题步骤)
设切点 $P\left(t_{0}, t_{0} \ln t_{0}+1\right)$,
$g^{\prime}(t)=\ln t+1$, 则 $k^{\prime}=\ln t_{0}+1$,
此时的切线方程为: $y-\left(t_{0} \ln t_{0}+1\right)=\left(\ln t_{0}+1\right)\left(x-t_{0}\right)$ 过 $(1,0)$,
所以 $-\left(t_{0} \ln t_{0}+1\right)=\left(\ln t_{0}+1\right)\left(1-t_{0}\right)$,
即 $\ln t_{0}-t_{0}+2=0$ ，
(转化为关于切点横坐标方程根的判定, 估值)
令 $\varphi\left(t_{0}\right)=\ln t_{0}-t_{0}+2, \varphi^{\prime}\left(t_{0}\right)=\frac{1}{t_{0}}-1<0$,
所以 $\varphi\left(t_{0}\right)$ 在 $(1,+\infty)$ 上为减函数,
且 $\varphi(3)=\ln 3-1>0, \varphi(4)=\ln 4-2<0$,
即存在 $t_{0} \in(3,4)$, 使 $\ln t_{0}-t_{0}+2=0$,
所以 $k^{\prime}=\ln t_{0}+1=t_{0}-1 \in(2,3)$,
又因为 $k \in \mathbf{Z}$,
所以整数 $k$ 的最大值为 2 .

【例 22】(2015 - 高考全国焱 I ) 设函数 $f(x)=\mathrm{e}^{2 x}-a \ln x$.
(1) 讨论 $f(x)$ 的导函数 $f^{\prime}(x)$ 零点的个数;
(2) 证明: 当 $a>0$ 时, $f(x) \geqslant 2 a+a \ln \frac{2}{a}$.
- 解析
(1) $f(x)=\mathrm{e}^{2 x}-a \ln x(x>0)$, 则 $f^{\prime}(x)=2 \mathrm{e}^{2 x}-\frac{a}{x}$.
显然当 $a \leqslant 0$ 时, $f^{\prime}(x)>0$ 恒成立, $f^{\prime}(x)$ 无零点.
下面讨论: 当 $a>0$ 时, $f^{\prime}(x)$ 零点的个数.
当 $a>0$ 时, $f^{\prime}(x)=2 \mathrm{e}^{2 x}-\frac{a}{x}$ 在 $(0,+\infty)$ 上单调递增, 且 $f^{\prime}(a)=2 \mathrm{e}^{2 a}-1>0$.
根据零点存在定理: 难点是找一个 $0<x_{1}<a$, 使得 $f^{\prime}\left(x_{1}\right) \leqslant 0$, 从而证明 $f^{\prime}(x)$ 存在唯一零点.
设 $0<x_{1} \leqslant 1$, 则 $f^{\prime}\left(x_{1}\right)=2 \mathrm{e}^{2 x_{1}}-\frac{a}{x_{1}} \leqslant 2 \mathrm{e}^{2}-\frac{a}{x_{1}} \leqslant 0$, 得 $x_{1} \leqslant \frac{a}{2 \mathrm{e}^{2}}<a$, 所以当 $x_{1}=\min \left\{1, \frac{a}{2 \mathrm{e}^{2}}\right\}$ 时, $f^{\prime}\left(x_{1}\right) \leqslant 0$. 所以存在 $x_{0} \in\left[x_{1}, a\right)$, 使得 $f^{\prime}\left(x_{0}\right)=0$. 所以导函数 $f^{\prime}(x)$ 存在唯一零点.
(2) 证明: 法一 (隐零点代换): 由 (1) 可知 $f^{\prime}(x)$ 有唯一零点, 设零点为 $x_{0}$,
由图可知 (图略), 当 $x \in\left(0, x_{0}\right)$ 时, $f^{\prime}(x)<0$, 即 $f(x)$ 单调递减;
当 $x \in\left(x_{0},+\infty\right)$ 时, $f^{\prime}(x)>0$, 即 $f(x)$ 单调递增.
所以 $f(x)$ 在 $x=x_{0}$ 处取得最小值, 即 $f(x)_{\min }=f\left(x_{0}\right)=\mathrm{e}^{2 x_{0}}-a \ln x_{0}$.
$f^{\prime}\left(x_{0}\right)=2 \mathrm{e}^{2 x_{0}}-\frac{a}{x_{0}}=0$, 解得 $\mathrm{e}^{2 x_{0}}=\frac{a}{2 x_{0}}$. (1)
(1)两边分别取自然对数, 得 $2 x_{0}=\ln a-\ln 2 x_{0}$, 即 $\ln x_{0}=\ln \frac{a}{2}-2 x_{0}$.
所以 $f\left(x_{0}\right)=\frac{a}{2 x_{0}}-a\left(\ln \frac{a}{2}-2 x_{0}\right)=\frac{a}{2 x_{0}}+2 a x_{0}-a \ln \frac{a}{2} \geqslant 2 a-a \ln \frac{a}{2}=2 a+$
$a \ln \frac{2}{a}\left(\right.$ 当且仅当 $\frac{a}{2 x_{0}}=2 a x_{0}$, 即 $x_{0}=\frac{1}{2}$ 时取等号 $)$.
法二 (变换主元) $f(x) \geqslant 2 a+a \ln \frac{2}{a}$ 等价于 $\mathrm{e}^{2 x}-a \ln x-2 a-a \ln \frac{2}{a} \geqslant 0$.
变更主元, 视为主元, 令 $g(a)=-a \ln \frac{2}{a}-(\ln x+2) a+\mathrm{e}^{2 x}$, 则 $g^{\prime}(a)=\ln a-\ln 2 \mathrm{e} x$.
令 $g^{\prime}(a)=0$, 得 $a=2 \mathrm{e} x$.
所以当 $0<a<2 \mathrm{e} x$ 时, $g^{\prime}(a)<0, g(a)$ 在 $(0,2 \mathrm{e} x)$ 上为减函数; 当 $a>2 \mathrm{e} x$ 时, $g^{\prime}(a)>0, g(a)$
在 $(2 \mathrm{e} x,+\infty)$ 上为增函数. 所以 $g(a)_{\min }=g(2 \mathrm{e} x)=\mathrm{e}^{2 x}-2 \mathrm{e} x \geqslant 0\left(\mathrm{e}^{x} \geqslant \mathrm{e} x\right.$ 证明略).
综上所述, 当 $a>0$ 时, $f(x) \geqslant 2 a+a \ln \frac{2}{a}$.

【例 23】隐极值点代换之代换参数
已知函数 $f(x)=x^{2}+a \ln (1+x)$ 有两个极值点 $x_{1}, x_{2}$, 且 $x_{1}<x_{2}$.
(1) 求 $a$ 的取值范围,并讨论 $f(x)$ 的单调性;
(2) 证明: $f\left(x_{2}\right)>\frac{1-2 \ln 2}{4}$.
- 解析
(1) $f^{\prime}(x)=2 x+\frac{a}{1+x}=\frac{2 x^{2}+2 x+a}{1+x}(x>-1)$,
今 $g(x)=2 x^{2}+2 x+a$, 其对称轴为直线 $x=-\frac{1}{2}$.
由题意知 $x_{1}, x_{2}$ 是方程 $g(x)=0$ 的两个均大于 $-1$ 的不相等的实根,
其充要条件为 $\left\{\begin{array}{l}\Delta=4-8 a>0, \\ g(-1)=a>0,\end{array}\right.$ 得 $0<a<\frac{1}{2}$.
所以当 $x \in\left(-1, x_{1}\right)$ 时, $f^{\prime}(x)>0, f(x)$ 在 $\left(-1, x_{1}\right)$ 上为增函数;
当 $x \in\left(x_{1}, x_{2}\right)$ 时, $f^{\prime}(x)<0, f(x)$ 在 $\left(x_{1}, x_{2}\right)$ 上为减函数;
当 $x \in\left(x_{2},+\infty\right)$ 时, $f^{\prime}(x)>0, f(x)$ 在 $\left(x_{2},+\infty\right)$ 上为增函数;
(2) 证明: 由 $(1)$ 知 $f\left(x_{2}\right)=x_{2}^{2}+a \ln \left(1+x_{2}\right)(*)$,
又 $g(0)=a>0$, 所以 $-\frac{1}{2}<x_{2}<0$,
$g\left(x_{2}\right)=2 x_{2}^{2}+2 x_{2}+a=0$, 即 $a=-\left(2 x_{2}^{2}+2 x_{2}\right)$ 代入 $(*)$ 得
$f\left(x_{2}\right)=x_{2}^{2}-\left(2 x_{2}^{2}+2 x_{2}\right) \ln \left(1+x_{2}\right)$,
设 $h(x)=x^{2}-\left(2 x^{2}+2 x\right) \ln (1+x)\left(x \in\left(-\frac{1}{2}, 0\right)\right)$,
则 $h^{\prime}(x)=2 x-2(2 x+1) \ln (1+x)-2 x=-2(2 x+1) \ln (1+x)$,
当 $x \in\left(-\frac{1}{2}, 0\right)$ 时, $h^{\prime}(x)>0, h(x)$ 在 $\left(-\frac{1}{2}, 0\right)$ 上单调递增,
所以 $h(x)>h\left(-\frac{1}{2}\right)=\frac{1-2 \ln 2}{4}$,
故 $f\left(x_{2}\right)=h\left(x_{2}\right)>\frac{1-2 \ln 2}{4}$.

【例 24】已知函数 $f(x)=\mathrm{e}^{x}-m x^{2}-2(x+1)+b$, 若对任意的 $x>0, m<0$ 有 $f(x)>0$ 恒成立, 求满足条件的最小整数 $b$ 的值.
- 解析
法一: 对任意的 $x>0, m<0$ 有 $f(x)>0$ 恒成立, 等价于 $f(x)_{\min }>0$.
由 $f(x)=\mathrm{e}^{x}-m x^{2}-2(x+1)+b$, 得 $f^{\prime}(x)=\mathrm{e}^{x}-2 m x-2, f^{\prime \prime}(x)=\mathrm{e}^{x}-2 m>0$,
所以 $f^{\prime}(x)$ 在 $(0,+\infty)$ 上单调递增, 且 $f^{\prime}(0)=-1<0, f^{\prime}(1)=\mathrm{e}-2-2 m>0$, 所以存在唯一 $x_{0} \in(0,1)$, 使得 $f^{\prime}\left(x_{0}\right)=\mathrm{e}^{x_{0}}-2 m x_{0}-2=0$,
所以当 $x \in\left(0, x_{0}\right)$ 时, $f^{\prime}(x)<0, f(x)$ 为减函数; 当 $x \in\left(x_{0},+\infty\right)$ 时, $f^{\prime}(x)>0, f(x)$ 为增函数.
所以 $f(x)_{\min }=f\left(x_{0}\right)=\mathrm{e}^{x_{0}}-m x_{0}^{2}-2\left(x_{0}+1\right)+b(*)$,
又 $f^{\prime}\left(x_{0}\right)=\mathrm{e}^{x_{0}}-2 m x_{0}-2=0$, 则 $m=\frac{\mathrm{e}^{x_{0}}-2}{2 x_{0}}<0$, 即 $x_{0} \in(0, \ln 2)$,
并将 $m=\frac{\mathrm{e}^{x_{0}}-2}{2 x_{0}}$ 代入 $(*)$ 得 $f\left(x_{0}\right)=-\left(\frac{x_{0}}{2}-1\right) \mathrm{e}^{x_{0}}-x_{0}-2+b>0$,
即 $b>\left(\frac{x_{0}}{2}-1\right) \mathrm{e}^{x_{0}}+x_{0}+2, x_{0} \in(0, \ln 2)$ 恒成立,
设 $\varphi(x)=\left(\frac{x}{2}-1\right) \mathrm{e}^{x}+x+2$, 则 $\varphi^{\prime}(x)=\frac{1}{2}(x-1) \mathrm{e}^{x}+1, \varphi^{\prime \prime}(x)=\frac{1}{2} x \mathrm{e}^{x}>0$,
所以 $\varphi^{\prime}(x)$ 在 $x \in(0, \ln 2)$ 上单调递增,
所以 $\varphi^{\prime}(x)>\varphi^{\prime}(0)=\frac{1}{2}>0, \varphi(x)$ 在 $x \in(0, \ln 2)$ 上单调递增,
所以 $\varphi(x)<\varphi(\ln 2)=2 \ln 2<b$, 又 $b$ 为整数, 所以 $b$ 的最小整数值为 2 .
法二: 对任意的 $x>0, m<0$ 有 $f(x)>0$ 恒成立,
首先将 $m$ 当作主元, 问题转化为 $g(m)=-x^{2} m+\mathrm{e}^{x}-2(x+1)+b>0$, 又 $m<0$ 时, $g(m)$
为減函数, 所以 $g(m)>g(0)=\mathrm{e}^{x}-2(x+1)+b>0$.
再将 $x$ 当作主元, 问题转化为 $h(x)=\mathrm{e}^{x}-2(x+1)+b>0$, 等价于 $h(x)_{\min }>0$.
则 $h^{\prime}(x)=\mathrm{e}^{x}-2$, 今 $h^{\prime}(x)=\mathrm{e}^{x}-2=0$, 解得 $x=\ln 2$.
所以当 $x \in(0, \ln 2)$ 时, $h^{\prime}(x)<0, h(x)$ 为減函数;
当 $x \in(\ln 2,+\infty)$ 时, $h^{\prime}(x)>0, h(x)$ 为增函数.
所以 $h(x)_{\min }=h(\ln 2)=\mathrm{e}^{\ln 2}-2(\ln 2+1)+b=-2 \ln 2+b>0$, 即 $b>2 \ln 2$, 又 $b$ 为整 数, 所以 $b$ 的最小整数值为 2 .



【例 25】已知函数 $f(x)=2 \mathrm{e}^{x}-(x-a)^{2}+3$, 当 $x \geqslant 0$ 时, $f(x) \geqslant 0$ 恒成立, 求 $a$ 的取值 范围.
- 解析
$$
\begin{aligned}
&\text { 法一: } f(x)=2 \mathrm{e}^{x}-(x-a)^{2}+3 \text {, 则 } f^{\prime}(x)=2 \mathrm{e}^{x}-2(x-a)=2\left(\mathrm{e}^{x}-x+a\right) \text {, } \\
&\text { 令 } g(x)=\mathrm{e}^{x}-x+a \text {, 则 } g^{\prime}(x)=\mathrm{e}^{x}-1 \geqslant 0 \text {, }
\end{aligned}
$$
(1) 当 $1+a \geqslant 0$, 即 $a \geqslant-1$ 时, $g(x) \geqslant 0, f^{\prime}(x) \geqslant 0, f(x)$ 在 $[0,+\infty)$ 上单调递增,
所以 $f(x)_{\min } \geqslant f(0)=5-a^{2} \geqslant 0$,
解得 $-\sqrt{5} \leqslant a \leqslant \sqrt{5}$, 从而 $-1 \leqslant a \leqslant \sqrt{5}$.
(2)当 $1+a<0$, 即 $a<-1$ 时,
由 $g(x)$ 在 $[0,+\infty)$ 上单调递增, 且 $g(0)<0, g\left(\frac{-a}{\mathrm{e}-1}\right)>0$,
所以存在唯一 $x_{0} \in\left(0, \frac{-a}{\mathrm{e}-1}\right)$ 佼得 $g\left(x_{0}\right)=\mathrm{e}^{x_{0}}-x_{0}+a=0$, 有 $\mathrm{e}^{x_{0}}=x_{0}-a$.
所以当 $x \in\left(0, x_{0}\right)$ 时, $f^{\prime}(x)<0, f(x)$ 为减函数;
当 $x \in\left(x_{0},+\infty\right)$ 时, $f^{\prime}(x)>0, f(x)$ 为增函数.
所以 $f(x)_{\min }=f\left(x_{0}\right)=2 \mathrm{e}^{x_{0}}-\left(x_{0}-a\right)^{2}+3=2 \mathrm{e}^{x_{0}}-\mathrm{e}^{2 x_{0}}+3=\left(\mathrm{e}^{x_{0}}+1\right)\left(-\mathrm{e}^{x_{0}}+3\right) \geqslant 0$,
$$
\text { 即 }-\mathrm{e}^{x_{0}}+3 \geqslant 0 \text {, }
$$
解得 $0<x_{0} \leqslant \ln 3$,
由 $\mathrm{e}^{x_{0}}=x_{0}-a$, 可得 $a=x_{0}-\mathrm{e}^{x_{0}}$,

设 $h(x)=x-\mathrm{e}^{x}, h^{\prime}(x)=1-\mathrm{e}^{x}$.
当 $x \in(0, \ln 3)$ 时, $h^{\prime}(x)<0, h(x)$ 在 $x \in(0, \ln 3]$ 上单调递减.
所以 $\ln 3-3 \leqslant a<-1$.
综上所述, $\ln 3-3 \leqslant a \leqslant \sqrt{5}$.
法二：若 $x \geqslant 0$ 时, $f(x)=2 \mathrm{e}^{x}-(x-a)^{2}+3 \geqslant 0$ 恒成立, 等价于 $(x-a)^{2} \leqslant 2 \mathrm{e}^{x}+3$, 即 $x-\sqrt{2 \mathrm{e}^{x}+3} \leqslant a \leqslant x+\sqrt{2 \mathrm{e}^{x}+3}$,
下面求 $\left(x-\sqrt{2 \mathrm{e}^{x}+3}\right)_{\max } \leqslant a \leqslant\left(x+\sqrt{2 \mathrm{e}^{x}+3}\right)_{\min }$.
设 $h_{1}(x)=x-\sqrt{2 \mathrm{e}^{x}+3}, h_{2}(x)=x+\sqrt{2 \mathrm{e}^{x}+3}$,
又 $h_{2}(x)$ 在 $[0,+\infty)$ 上单调递增, $h_{2}(x)_{\min }=h_{2}(0)=\sqrt{5} \geqslant a$;
$h_{1}(x)=x-\sqrt{2 \mathrm{e}^{x}+3}, h_{1}^{\prime}(x)=1-\frac{\mathrm{e}^{x}}{\sqrt{2 \mathrm{e}^{x}+3}}$ 在 $[0,+\infty)$ 上为减函数,
令 $h_{1}^{\prime}(x)=0$, 解得 $x=\ln 3 .$
所以当 $x \in(0, \ln 3)$ 时, $h_{1}^{\prime}(x)>0, h_{1}(x)$ 为增函数;
当 $x \in(\ln 3,+\infty)$ 时, $h_{1}^{\prime}(x)<0, h_{1}(x)$ 为減函数.
所以 $h_{1}(x)_{\max }=h_{1}(\ln 3)=\ln 3-3 \leqslant a$.
综上所述, $\ln 3-3 \leqslant a \leqslant \sqrt{5}$.

【题型 2 恒成立求参之隐极值点代换】
【例 26】已知函数 $f(x)=a \mathrm{e}^{x}+\frac{a+1}{x}-2(a+1)(a>0)$.
(1) 当 $a=1$ 时, 求 $f(x)$ 在点 $(1, f(1))$ 处的切线方程;
(2) 若对于任意的 $x \in(0,+\infty)$, 恒有 $f(x) \geqslant 0$ 成立, 求 $a$ 的取值范围.
- 解析
(1) 当 $a=1$ 时, $f(x)=\mathrm{e}^{x}+\frac{2}{x}-4, f(1)=\mathrm{e}-2, f^{\prime}(x)=\mathrm{e}^{x}-\frac{2}{x^{2}}, k=f^{\prime}(1)=\mathrm{e}-2$, 故 $f(x)$ 在点 $(1, f(1))$ 处的切线方程为 $y-(\mathrm{e}-2)=(\mathrm{e}-2)(x-1)$, 即 $(\mathrm{e}-2) x-y=0$.
(2) 定义域为 $(0,+\infty), f(x)=a \mathrm{e}^{x}+\frac{a+1}{x}-2(a+1)(a>0)$,
则 $f^{\prime}(x)=a \mathrm{e}^{x}+\frac{-(a+1)}{x^{2}}=\frac{a \cdot x^{2} \cdot \mathrm{e}^{x}-(a+1)}{x^{2}}$,
$f^{\prime}(x)$ 在 $(0,+\infty)$ 上为增函数.

- $$
  \text { 令 } g(x)=a \cdot x^{2} \cdot \mathrm{e}^{x}-(a+1) \text {, 则 } g(0)=-(a+1)<0, g\left(\sqrt{\frac{a+1}{a}}\right)=(a+1)\left(\mathrm{e}^{\sqrt{\frac{a+1}{a}}}-1\right)>0.
  $$

- 所以存在唯一的 $x_{0} \in\left(0, \sqrt{\frac{a+1}{a}}\right)$, 使得 $g\left(x_{0}\right)=0$,
所以当 $x \in\left(0, x_{0}\right)$ 时, $g(x)<0, f^{\prime}(x)<0, f(x)$ 在 $x \in\left(0, x_{0}\right)$ 上单调递减,
当 $x \in\left(x_{0},+\infty\right)$ 时, $g(x)>0, f^{\prime}(x)>0, f(x)$ 在 $x \in(0,+\infty)$ 上单调递增.
所以 $f(x)_{\min }=f\left(x_{0}\right)=a \mathrm{e}^{x_{0}}+\frac{a+1}{x_{0}}-2(a+1)(*)$,
又 $g\left(x_{0}\right)=0$, 即 $a \mathrm{e}^{x_{0}}=\frac{a+1}{x_{0}^{2}}$, 代入 $(*)$ 得
$$
\begin{aligned}
&f(x)_{\min }=f\left(x_{0}\right)=\frac{a+1}{x_{0}^{2}}+\frac{a+1}{x_{0}}-2(a+1)=(a+1) \frac{\left(2 x_{0}+1\right)\left(-x_{0}+1\right)}{x_{0}^{2}} \geqslant 0, \\
&\text { 又 } x_{0} \in\left(0, \sqrt{\frac{a+1}{a}}\right), \text { 且 } a>0, \text { 所以 } 0<x_{0} \leqslant 1 . \\
&\text { 又 } f^{\prime}(x) \text { 在 }(0,+\infty) \text { 上为增函数, 且 } f^{\prime}\left(x_{0}\right)=0, \\
&\text { 所以 } f^{\prime}(1) \geqslant f^{\prime}\left(x_{0}\right)=0, \text { 即 } a \cdot \mathrm{e}-(a+1) \geqslant 0, \text { 解得 } a \geqslant \frac{1}{\mathrm{e}-1} .
\end{aligned}
$$
综上所述, $a$ 的取值范围为 $\left[\frac{1}{\mathrm{e}-1},+\infty\right)$.

【例 29】已知函数 $f(x)=x \mathrm{e}^{x}+\frac{\ln x}{x}$.
(1) 求证: 函数 $f(x)$ 有唯一零点;
(2) 若 $\forall x \in(0,+\infty), x \mathrm{e}^{x}-\ln x \geqslant 1+a x$ 恒成立, 求 $a$ 的取值范围.
- 解析
(1) 定义域为 $x \in(0,+\infty)$,
令 $f(x)=x \mathrm{e}^{x}+\frac{\ln x}{x}=0$, 即 $x^{2} \mathrm{e}^{x}+\ln x=0$, 设 $\varphi(x)=x^{2} \mathrm{e}^{x}+\ln x$ 在 $(0,+\infty)$ 上为增函数,
且 $\varphi\left(\frac{1}{2}\right)=\frac{1}{4} \cdot \mathrm{e}^{\frac{1}{2}}+\ln \frac{1}{2}<0, \varphi(1)=\mathrm{e}>0, \varphi\left(\frac{3}{4}\right)=\left(\frac{3}{4}\right)^{2} \mathrm{e}^{\frac{3}{4}}+\ln \frac{3}{4}>0$,
所以存在唯一 $x_{0} \in\left(\frac{1}{2}, \frac{3}{4}\right)$, 使得 $\varphi\left(x_{0}\right)=0$, 即函数 $f(x)$ 有唯一零点.
(2) 法一 (分离参数) $: \forall x \in(0,+\infty), x \mathrm{e}^{x}-\ln x \geqslant 1+a x$ 恒成立等价于 $\mathrm{e}^{x}-\frac{\ln x}{x}-\frac{1}{x} \geqslant a$,
设 $g(x)=\mathrm{e}^{x}-\frac{\ln x}{x}-\frac{1}{x}, g^{\prime}(x)=\mathrm{e}^{x}-\frac{1-\ln x}{x^{2}}+\frac{1}{x^{2}}=\frac{x^{2} \mathrm{e}^{x}+\ln x}{x^{2}}=\frac{1}{x}\left(x \mathrm{e}^{x}+\frac{\ln x}{x}\right)$,
由 (1) 可知, 存在唯一 $x_{0} \in\left(\frac{1}{2}, \frac{3}{4}\right)$, 使得 $f\left(x_{0}\right)=0$.
所以当 $x \in\left(0, x_{0}\right)$ 时, $f(x)<0, g^{\prime}(x)<0, g(x)$ 为减函数;
当 $x \in\left(x_{0},+\infty\right)$ 时, $f(x)>0, g^{\prime}(x)>0, g(x)$ 为增函数.

所以 $g(x)_{\min }=g\left(x_{0}\right)=\mathrm{e}^{x_{0}}-\frac{\ln x_{0}}{x_{0}}-\frac{1}{x_{0}} \geqslant a$.
又 $f\left(x_{0}\right)=0$, 即 $x_{0} \mathrm{e}^{x_{0}}=\frac{1}{x_{0}} \cdot\left(-\ln x_{0}\right)=\ln \frac{1}{x_{0}} \cdot \frac{1}{x_{0}}=\ln \frac{1}{x_{0}} \cdot \mathrm{e}^{\ln \frac{1}{x_{0}}}$,
$$
\left(h(x)=x \cdot \mathrm{e}^{x}, h\left(\ln \frac{1}{x}\right)=\ln \frac{1}{x} \cdot \mathrm{e}^{\ln \frac{1}{x}}\right)
$$
当 $x \in(0,+\infty)$ 时, $m(x)=x \mathrm{e}^{x}$ 为增函数 (证明略), 所以 $x_{0}=\ln \frac{1}{x_{0}}, \mathrm{e}^{x_{0}}=\frac{1}{x_{0}}$,
所以 $g(x)_{\min }=g\left(x_{0}\right)=\mathrm{e}^{x_{0}}-\frac{\ln x_{0}}{x_{0}}-\frac{1}{x_{0}}=\frac{1}{x_{0}}-\frac{-x_{0}}{x_{0}}-\frac{1}{x_{0}}=1 \geqslant a$.
综上所述, $a$ 的取值范围为 $a \leqslant 1$.
法二 (分离参数 $+$ 放缩法 $): \forall x \in(0,+\infty), a \leqslant \dfrac{x \mathrm{e}^{x}-\ln x-1}{x}=\dfrac{\mathrm{e}^{\ln x+x}-\ln x-1}{x}$ 恒成立, $\dfrac{\mathrm{e}^{\ln x+x}-\ln x-1}{x} \geqslant \dfrac{x+\ln x+1-\ln x-1}{x}=1 \geqslant a$. 所以 $a \leqslant 1$.